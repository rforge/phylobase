<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NCL: nxspublicblocks.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="ncl.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>nxspublicblocks.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//  Copyright (C) 1999-2003 Paul O. Lewis</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">//  This file is part of NCL (Nexus Class Library) version 2.0.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  NCL is free software; you can redistribute it and/or modify</span>
<a name="l00006"></a>00006 <span class="comment">//  it under the terms of the GNU General Public License as published by</span>
<a name="l00007"></a>00007 <span class="comment">//  the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00008"></a>00008 <span class="comment">//  (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//  NCL is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">//  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<a name="l00013"></a>00013 <span class="comment">//  GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//  You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">//  along with NCL; if not, write to the Free Software Foundation, Inc.,</span>
<a name="l00017"></a>00017 <span class="comment">//  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef NCL_NXSPUBLICBLOCKS_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define NCL_NXSPUBLICBLOCKS_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;ncl/nxsdefs.h&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;ncl/nxsblock.h&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;ncl/nxsassumptionsblock.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;ncl/nxscharactersblock.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;ncl/nxsdatablock.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;ncl/nxsdistancesblock.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;ncl/nxstaxablock.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;ncl/nxstreesblock.h&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;ncl/nxsunalignedblock.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;ncl/nxsreader.h&quot;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">class </span>NxsStoreTokensBlockReader
<a name="l00035"></a>00035     : <span class="keyword">public</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a>
<a name="l00036"></a>00036     {
<a name="l00037"></a>00037     <span class="keyword">public</span>:
<a name="l00038"></a>00038         <span class="comment">/*---------------------------------------------------------------------------------------</span>
<a name="l00039"></a>00039 <span class="comment">        | If the blockname is empty then, any block will be read by the instance</span>
<a name="l00040"></a>00040 <span class="comment">        */</span>
<a name="l00041"></a>00041         NxsStoreTokensBlockReader(std::string blockName, <span class="keywordtype">bool</span> storeTokenInfo)
<a name="l00042"></a>00042             :storeAllTokenInfo(storeTokenInfo),
<a name="l00043"></a>00043             tolerateEOFInBlock(false)
<a name="l00044"></a>00044             {
<a name="l00045"></a>00045             <span class="keywordtype">id</span> = <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a>(blockName.c_str());
<a name="l00046"></a>00046             }
<a name="l00047"></a>00047         <span class="keywordtype">void</span> <a class="code" href="classNxsBlock_a3b7a229312d9182c6a7a3823d0e46a69.html#a3b7a229312d9182c6a7a3823d0e46a69" title="This virtual function must be overridden for each derived class to provide the ability...">Read</a>(<a class="code" href="classNxsToken.html">NxsToken</a> &amp;token);
<a name="l00048"></a>00048         <span class="keywordtype">void</span> <a class="code" href="classNxsBlock_a3642d732dd82298ef2f35a7b83b97719.html#a3642d732dd82298ef2f35a7b83b97719" title="This virtual function should be overridden for each derived class to completely reset...">Reset</a>();
<a name="l00049"></a>00049         <span class="keywordtype">void</span> <a class="code" href="classNxsBlock_aa66ecf647911def184f177ce5b522aaf.html#aa66ecf647911def184f177ce5b522aaf" title="This virtual function provides a brief report of the contents of the block.">Report</a>(std::ostream &amp;out) NCL_COULD_BE_CONST  <span class="comment">/*v2.1to2.2 1 */</span>
<a name="l00050"></a>00050             {
<a name="l00051"></a>00051             ReportConst(out);
<a name="l00052"></a>00052             }
<a name="l00053"></a>00053         <span class="keywordtype">void</span> <a class="code" href="classNxsBlock_a524ab704feb47b515d61c307bc5bb4bd.html#a524ab704feb47b515d61c307bc5bb4bd" title="Should serialize the content of the block as NEXUS.">WriteAsNexus</a>(std::ostream &amp;out) <span class="keyword">const</span>;
<a name="l00054"></a>00054         <span class="comment">/*---------------------------------------------------------------------------------------</span>
<a name="l00055"></a>00055 <span class="comment">        | Results in aliasing of the taxa, assumptionsBlock blocks!</span>
<a name="l00056"></a>00056 <span class="comment">        */</span>
<a name="l00057"></a>00057         NxsStoreTokensBlockReader &amp; operator=(<span class="keyword">const</span> NxsStoreTokensBlockReader &amp;other)
<a name="l00058"></a>00058             {
<a name="l00059"></a>00059             <a class="code" href="classNxsBlock_a3642d732dd82298ef2f35a7b83b97719.html#a3642d732dd82298ef2f35a7b83b97719" title="This virtual function should be overridden for each derived class to completely reset...">Reset</a>();
<a name="l00060"></a>00060             CopyBaseBlockContents(static_cast&lt;const NxsBlock &amp;&gt;(other));
<a name="l00061"></a>00061             commandsRead = other.commandsRead;
<a name="l00062"></a>00062             justTokens = other.justTokens;
<a name="l00063"></a>00063             storeAllTokenInfo = other.storeAllTokenInfo;
<a name="l00064"></a>00064             tolerateEOFInBlock = other.tolerateEOFInBlock;
<a name="l00065"></a>00065             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00066"></a>00066             }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         NxsStoreTokensBlockReader * Clone()<span class="keyword"> const</span>
<a name="l00069"></a>00069 <span class="keyword">            </span>{
<a name="l00070"></a>00070             NxsStoreTokensBlockReader * b = <span class="keyword">new</span> NxsStoreTokensBlockReader(<span class="keywordtype">id</span>, storeAllTokenInfo);
<a name="l00071"></a>00071             *b = *<span class="keyword">this</span>;
<a name="l00072"></a>00072             <span class="keywordflow">return</span> b;
<a name="l00073"></a>00073             }
<a name="l00075"></a>00075         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> CanReadBlockType(<span class="keyword">const</span> <a class="code" href="classNxsToken.html">NxsToken</a> &amp; token)
<a name="l00076"></a>00076             {
<a name="l00077"></a>00077             <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.length() == 0)
<a name="l00078"></a>00078                 {
<a name="l00079"></a>00079                 <span class="keywordtype">id</span>.assign(token.<a class="code" href="classNxsToken_a83fb9fa31b17d84caaa2c50c664d195a.html#a83fb9fa31b17d84caaa2c50c664d195a" title="Returns the token for functions that only need read only access - faster than GetToken...">GetTokenReference</a>().c_str());
<a name="l00080"></a>00080                 <span class="keywordtype">id</span>.ToUpper();
<a name="l00081"></a>00081                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00082"></a>00082                 }
<a name="l00083"></a>00083             <span class="keywordflow">return</span> token.<a class="code" href="classNxsToken_a3fd38838e685bffa670dbbaa5b047966.html#a3fd38838e685bffa670dbbaa5b047966" title="Returns true if token NxsString exactly equals `s&amp;#39;.">Equals</a>(<span class="keywordtype">id</span>);
<a name="l00084"></a>00084             }
<a name="l00085"></a>00085         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TolerateEOFInBlock()<span class="keyword"> const</span>
<a name="l00086"></a>00086 <span class="keyword">            </span>{
<a name="l00087"></a>00087             <span class="keywordflow">return</span> tolerateEOFInBlock; <span class="comment">/*  */</span>
<a name="l00088"></a>00088             }
<a name="l00089"></a>00089         <span class="keywordtype">void</span> SetTolerateEOFInBlock(<span class="keywordtype">bool</span> v)
<a name="l00090"></a>00090             {
<a name="l00091"></a>00091             tolerateEOFInBlock = v;
<a name="l00092"></a>00092             }
<a name="l00093"></a>00093         <span class="keyword">const</span> std::list&lt;ProcessedNxsCommand&gt; &amp; GetCommands()<span class="keyword"> const</span>
<a name="l00094"></a>00094 <span class="keyword">            </span>{
<a name="l00095"></a>00095             <span class="keywordflow">return</span> commandsRead;
<a name="l00096"></a>00096             }
<a name="l00097"></a>00097     <span class="keyword">protected</span>:
<a name="l00098"></a>00098         <span class="keywordtype">void</span> ReadCommand(<a class="code" href="classNxsToken.html">NxsToken</a> &amp;token);
<a name="l00099"></a>00099         <span class="keywordtype">void</span> ReportConst(std::ostream &amp;out) <span class="keyword">const</span>;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101         <span class="keyword">typedef</span> std::vector&lt;std::string&gt; VecString;
<a name="l00102"></a>00102         <span class="keyword">typedef</span> std::list&lt;VecString&gt; ListVecString;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         std::list&lt;ProcessedNxsCommand&gt; commandsRead;
<a name="l00106"></a>00106         ListVecString justTokens;
<a name="l00107"></a>00107         <span class="keywordtype">bool</span> storeAllTokenInfo;
<a name="l00108"></a>00108         <span class="keywordtype">bool</span> tolerateEOFInBlock;
<a name="l00109"></a>00109     };
<a name="l00118"></a><a class="code" href="classNxsDefaultPublicBlockFactory.html">00118</a> <span class="keyword">class </span><a class="code" href="classNxsDefaultPublicBlockFactory.html" title="A factory class that delegates calls to the other &amp;quot;default&amp;quot; public block...">NxsDefaultPublicBlockFactory</a>
<a name="l00119"></a>00119     : <span class="keyword">public</span> <a class="code" href="classNxsBlockFactory.html" title="This abstract class defines the interface for a factory that can generate NxsBlocks...">NxsBlockFactory</a>
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121     <span class="keyword">public</span>:
<a name="l00128"></a><a class="code" href="classNxsDefaultPublicBlockFactory_acf60f53b9a67f7d877e6fbcde74fbf18.html#acf60f53b9a67f7d877e6fbcde74fbf18">00128</a>         <a class="code" href="classNxsDefaultPublicBlockFactory_acf60f53b9a67f7d877e6fbcde74fbf18.html#acf60f53b9a67f7d877e6fbcde74fbf18">NxsDefaultPublicBlockFactory</a>(<span class="keywordtype">bool</span> readUnknownBlocks, <span class="keywordtype">bool</span> storeTokenInfo)
<a name="l00129"></a>00129             :tokenizeUnknownBlocks(readUnknownBlocks),
<a name="l00130"></a>00130             storeTokenInfoArg(storeTokenInfo)
<a name="l00131"></a>00131             {}
<a name="l00132"></a>00132         <span class="keyword">virtual</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a>  * <a class="code" href="classNxsDefaultPublicBlockFactory_a8fdd2f080797a1f3131eb0d9b54e68e5.html#a8fdd2f080797a1f3131eb0d9b54e68e5" title="Returns a new instance of a block for the appropriate block type id.">GetBlockReaderForID</a>(<span class="keyword">const</span> std::string &amp; <span class="keywordtype">id</span>, <a class="code" href="classNxsReader.html" title="This is the class that orchestrates the reading of a NEXUS data file, and so is the...">NxsReader</a> *reader, <a class="code" href="classNxsToken.html">NxsToken</a> *token);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134     <span class="keyword">protected</span>:
<a name="l00135"></a>00135         NxsAssumptionsBlockFactory assumpBlockFact;
<a name="l00136"></a>00136         NxsCharactersBlockFactory charBlockFact;
<a name="l00137"></a>00137         NxsDataBlockFactory dataBlockFact;
<a name="l00138"></a>00138         NxsDistancesBlockFactory distancesBlockFact;
<a name="l00139"></a>00139         NxsTaxaBlockFactory taxaBlockFact;
<a name="l00140"></a>00140         NxsTreesBlockFactory treesBlockFact;
<a name="l00141"></a>00141         NxsUnalignedBlockFactory unalignedBlockFact;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143         <span class="keywordtype">bool</span> tokenizeUnknownBlocks;
<a name="l00144"></a>00144         <span class="keywordtype">bool</span> storeTokenInfoArg;
<a name="l00145"></a>00145     };
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 
<a name="l00153"></a><a class="code" href="classNxsCloneBlockFactory.html">00153</a> <span class="keyword">class </span><a class="code" href="classNxsCloneBlockFactory.html" title="A factory class that takes examplar that will be cloned to read each block.">NxsCloneBlockFactory</a>
<a name="l00154"></a>00154     : <span class="keyword">public</span> <a class="code" href="classNxsBlockFactory.html" title="This abstract class defines the interface for a factory that can generate NxsBlocks...">NxsBlockFactory</a>
<a name="l00155"></a>00155     {
<a name="l00156"></a>00156     <span class="keyword">public</span>:
<a name="l00157"></a>00157         <a class="code" href="classNxsCloneBlockFactory.html" title="A factory class that takes examplar that will be cloned to read each block.">NxsCloneBlockFactory</a>()
<a name="l00158"></a>00158             :defPrototype(NULL)
<a name="l00159"></a>00159             {}
<a name="l00166"></a><a class="code" href="classNxsCloneBlockFactory_ac2d70ff7ea662c0b5b7546083734386e.html#ac2d70ff7ea662c0b5b7546083734386e">00166</a>         <span class="keyword">virtual</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a>  * <a class="code" href="classNxsCloneBlockFactory_ac2d70ff7ea662c0b5b7546083734386e.html#ac2d70ff7ea662c0b5b7546083734386e">GetBlockReaderForID</a>(<span class="keyword">const</span> std::string &amp; <span class="keywordtype">id</span>, 
<a name="l00167"></a>00167                                 <a class="code" href="classNxsReader.html" title="This is the class that orchestrates the reading of a NEXUS data file, and so is the...">NxsReader</a> *, 
<a name="l00168"></a>00168                                 <a class="code" href="classNxsToken.html">NxsToken</a> *) 
<a name="l00169"></a>00169             {
<a name="l00170"></a>00170             std::string b(<span class="keywordtype">id</span>.c_str());
<a name="l00171"></a>00171             <a class="code" href="classNxsString_afa27910900e7e9f3bdc8d1b9753479a9.html#afa27910900e7e9f3bdc8d1b9753479a9" title="Capitalizes every character in s.">NxsString::to_upper</a>(b);
<a name="l00172"></a>00172             std::map&lt;std::string , const NxsBlock *&gt;::const_iterator pIt = prototypes.find(b);
<a name="l00173"></a>00173             <span class="keywordflow">if</span> (pIt == prototypes.end())
<a name="l00174"></a>00174                 <span class="keywordflow">return</span> (defPrototype ? defPrototype-&gt;Clone() : NULL);
<a name="l00175"></a>00175             <span class="keywordflow">return</span> pIt-&gt;second-&gt;Clone();
<a name="l00176"></a>00176             }
<a name="l00177"></a>00177 
<a name="l00182"></a><a class="code" href="classNxsCloneBlockFactory_aeb7bb7a4e085d6d742cdcc74b524bdb6.html#aeb7bb7a4e085d6d742cdcc74b524bdb6">00182</a>         <span class="keywordtype">bool</span> <a class="code" href="classNxsCloneBlockFactory_aeb7bb7a4e085d6d742cdcc74b524bdb6.html#aeb7bb7a4e085d6d742cdcc74b524bdb6" title="Registers a block instance to be used whenever an unknown block (any block with an...">AddDefaultPrototype</a>(<span class="keyword">const</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> * exemplar)
<a name="l00183"></a>00183             {
<a name="l00184"></a>00184             <span class="keywordtype">bool</span> replaced = defPrototype != NULL;
<a name="l00185"></a>00185             defPrototype = exemplar;
<a name="l00186"></a>00186             <span class="keywordflow">return</span> replaced;
<a name="l00187"></a>00187             }
<a name="l00191"></a><a class="code" href="classNxsCloneBlockFactory_adc150252a798c29aa1621174e1429c4a.html#adc150252a798c29aa1621174e1429c4a">00191</a>         <span class="keywordtype">bool</span> <a class="code" href="classNxsCloneBlockFactory_adc150252a798c29aa1621174e1429c4a.html#adc150252a798c29aa1621174e1429c4a" title="Registers the block instance passed in as a template to clone a block reader whenever...">AddPrototype</a>(<span class="keyword">const</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> * exemplar, 
<a name="l00192"></a>00192                           <span class="keyword">const</span> <span class="keywordtype">char</span> * blockName = NULL) 
<a name="l00193"></a>00193             {
<a name="l00194"></a>00194             std::string b;
<a name="l00195"></a>00195             <span class="keywordflow">if</span> (blockName)
<a name="l00196"></a>00196                 b.assign(blockName);
<a name="l00197"></a>00197             <span class="keywordflow">else</span>
<a name="l00198"></a>00198                 {
<a name="l00199"></a>00199                 <span class="keywordflow">if</span> (exemplar == NULL)
<a name="l00200"></a>00200                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00201"></a>00201                 <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> bId  = exemplar-&gt;<a class="code" href="classNxsBlock_a43cb2dac4ccc14d798d29670d9dc6017.html#a43cb2dac4ccc14d798d29670d9dc6017" title="Returns the `id` NxsString.">GetID</a>();
<a name="l00202"></a>00202                 b.assign(bId.c_str());
<a name="l00203"></a>00203                 }
<a name="l00204"></a>00204             <a class="code" href="classNxsString_afa27910900e7e9f3bdc8d1b9753479a9.html#afa27910900e7e9f3bdc8d1b9753479a9" title="Capitalizes every character in s.">NxsString::to_upper</a>(b);
<a name="l00205"></a>00205             <span class="keywordtype">bool</span> replaced = prototypes.find(b) != prototypes.end();
<a name="l00206"></a>00206             prototypes[b] = exemplar;
<a name="l00207"></a>00207             <span class="keywordflow">return</span> replaced;
<a name="l00208"></a>00208             }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210     <span class="keyword">protected</span>:
<a name="l00211"></a>00211         std::map&lt;std::string , const NxsBlock *&gt; prototypes;
<a name="l00212"></a>00212         <span class="keyword">const</span> <a class="code" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> * defPrototype;
<a name="l00213"></a>00213     };
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="keyword">typedef</span> std::pair&lt;std::string, std::string&gt; NxsNameToNameTrans;
<a name="l00218"></a>00218 
<a name="l00220"></a>00220 <span class="keywordtype">void</span> writeAttributeValue(std::ostream &amp; out, <span class="keyword">const</span> std::string &amp; v);
<a name="l00221"></a>00221 
<a name="l00225"></a><a class="code" href="classNxsConversionOutputRecord.html">00225</a> <span class="keyword">class </span><a class="code" href="classNxsConversionOutputRecord.html" title="This class is used internally to keep track of operations that may be needed to make...">NxsConversionOutputRecord</a>
<a name="l00226"></a>00226     {
<a name="l00227"></a>00227     <span class="keyword">public</span>:
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <a class="code" href="classNxsConversionOutputRecord.html" title="This class is used internally to keep track of operations that may be needed to make...">NxsConversionOutputRecord</a>()
<a name="l00230"></a>00230             :addNumbersToDisambiguateNames(<span class="keyword">false</span>),
<a name="l00231"></a>00231             writeNameTranslationFile(<span class="keyword">true</span>),
<a name="l00232"></a>00232             translationFilename(<span class="stringliteral">&quot;NameTranslationFile&quot;</span>),
<a name="l00233"></a>00233             numberTranslationFiles(<span class="keyword">true</span>),
<a name="l00234"></a>00234             verboseWritingOfNameTranslationFile(<span class="keyword">true</span>)
<a name="l00235"></a>00235             {}
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         <span class="keywordtype">void</span> writeNameTranslation(std::vector&lt;NxsNameToNameTrans&gt;, <span class="keyword">const</span> <a class="code" href="classNxsTaxaBlockAPI.html" title="This abstract class describes the interface that every block that wants to serve...">NxsTaxaBlockAPI</a> * );
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="keyword">static</span> std::string getUniqueFilenameWithLowestIndex(<span class="keyword">const</span> <span class="keywordtype">char</span> * prefix);
<a name="l00240"></a>00240         <span class="keyword">static</span> <span class="keywordtype">void</span> writeTaxonNameTranslationFilepath(<span class="keyword">const</span> <span class="keywordtype">char</span> * fn, <span class="keyword">const</span> std::vector&lt;NxsNameToNameTrans&gt; &amp; nameTrans, <span class="keyword">const</span> <a class="code" href="classNxsTaxaBlockAPI.html" title="This abstract class describes the interface that every block that wants to serve...">NxsTaxaBlockAPI</a> *, <span class="keywordtype">bool</span> verbose=<span class="keyword">false</span>);
<a name="l00241"></a>00241         <span class="keyword">static</span> <span class="keywordtype">void</span> writeTaxonNameTranslationStream(std::ostream &amp; fn, <span class="keyword">const</span> std::vector&lt;NxsNameToNameTrans&gt; &amp; nameTrans, <span class="keyword">const</span> <a class="code" href="classNxsTaxaBlockAPI.html" title="This abstract class describes the interface that every block that wants to serve...">NxsTaxaBlockAPI</a> *);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243         <span class="comment">//The following set of members were added to deal with name clashes that</span>
<a name="l00244"></a>00244         <span class="comment">//  are legal (but a very bad idea) in phylip.  If names are auto-translated</span>
<a name="l00245"></a>00245         <span class="comment">//  to unique names (by the addition of numbers, then it is very useful to print out a file</span>
<a name="l00246"></a>00246         <span class="comment">//  listing the translations.</span>
<a name="l00247"></a>00247         <span class="keywordtype">bool</span> addNumbersToDisambiguateNames; <span class="comment">// if true, then taxon names may be altered on reading to  make them unique</span>
<a name="l00248"></a>00248         <span class="keywordtype">bool</span> writeNameTranslationFile; <span class="comment">// if true, and taxon names are modified, then a translation file will be written</span>
<a name="l00249"></a>00249         std::string translationFilename; <span class="comment">// if writeNameTranslationFile is used, then this will be the file name or prefix</span>
<a name="l00250"></a>00250         <span class="keywordtype">bool</span> numberTranslationFiles; <span class="comment">// if true, then translationFilename will serve as a prefix and the real filename may contain a number to make it unique.</span>
<a name="l00251"></a>00251         <span class="keywordtype">bool</span> verboseWritingOfNameTranslationFile; <span class="comment">// if true, then writing a translationFilename will trigger a message to std::cerr</span>
<a name="l00252"></a>00252         std::map&lt;const NxsTaxaBlockAPI *, std::string&gt; taxaBlocksToConversionFiles;
<a name="l00253"></a>00253     };
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 
<a name="l00281"></a><a class="code" href="classPublicNexusReader.html">00281</a> <span class="keyword">class </span><a class="code" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a>: <span class="keyword">public</span> <a class="code" href="classExceptionRaisingNxsReader.html" title="A subclass of NxsReader that is used in much of NCL v2.1.">ExceptionRaisingNxsReader</a>
<a name="l00282"></a>00282     {
<a name="l00283"></a>00283     <span class="keyword">public</span>:
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="keyword">static</span> BlockReaderList <a class="code" href="classPublicNexusReader_ad8da1678aefa266efefecc1a6fc3a306.html#ad8da1678aefa266efefecc1a6fc3a306" title="A convenience function to get a list of NxsBlocks from a file path without having...">parseFileOrThrow</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filepath,
<a name="l00286"></a>00286                                                 <a class="code" href="classNxsReader_aae1b69753e31aba3ff7e4b48a5afba95.html#aae1b69753e31aba3ff7e4b48a5afba95">NxsReader::WarningHandlingMode</a> mode = <a class="code" href="classNxsReader_aae1b69753e31aba3ff7e4b48a5afba95.html#aae1b69753e31aba3ff7e4b48a5afba95a0b0c59f3609e43fd90018b8320345a44">NxsReader::WARNINGS_TO_STDERR</a>,
<a name="l00287"></a>00287                                                 <span class="keywordtype">bool</span> parsePrivateBlocks=<span class="keyword">true</span>,
<a name="l00288"></a>00288                                                 <span class="keywordtype">bool</span> storeTokenInfo=<span class="keyword">true</span>);
<a name="l00289"></a>00289 
<a name="l00293"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30">00293</a>         <span class="keyword">enum</span> <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30" title="Enumeration of bits used that can be &amp;quot;ORed&amp;quot; together to create an argument...">NexusBlocksToRead</a>
<a name="l00294"></a>00294         {
<a name="l00295"></a>00295             NEXUS_TAXA_BLOCK_BIT = 0x01, 
<a name="l00296"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a5084ea10fc5e88aae7cd852666227699">00296</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a5084ea10fc5e88aae7cd852666227699" title="Flags TAXA blocks as a type to be read.">NEXUS_TREES_BLOCK_BIT</a> = 0x02, 
<a name="l00297"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30afdec1bc813863f82f807ca6a0033a0d6">00297</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30afdec1bc813863f82f807ca6a0033a0d6" title="Flags TREES blocks as a type to be read.">NEXUS_CHARACTERS_BLOCK_BIT</a> = 0x04, 
<a name="l00298"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a0d1bc85371a44fecb704bd11da27599f">00298</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a0d1bc85371a44fecb704bd11da27599f" title="Flags CHARACTERS and DATA blocks as types to be read.">NEXUS_ASSUMPTIONS_BLOCK_BIT</a> = 0x08, 
<a name="l00299"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30afcc24382c92ec9d2631522848bf84ed2">00299</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30afcc24382c92ec9d2631522848bf84ed2" title="Flags ASSUMPTIONS blocks as a type to be read.">NEXUS_SETS_BLOCK_BIT</a> = 0x10, 
<a name="l00300"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a334653ca2c465c5ce2d24c684b404f8a">00300</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a334653ca2c465c5ce2d24c684b404f8a" title="Flags SETS blocks as a type to be read.">NEXUS_UNALIGNED_BLOCK_BIT</a> = 0x20, 
<a name="l00301"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30aab65cf7f870b9a373cfbf729192bd73d">00301</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30aab65cf7f870b9a373cfbf729192bd73d" title="Flags UNALIGNED blocks as a type to be read.">NEXUS_DISTANCES_BLOCK_BIT</a> = 0x40, 
<a name="l00302"></a><a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a49e68eff1d5eec1ce414bdefcaaefc42">00302</a>             <a class="code" href="classPublicNexusReader_ab0e613c0894cead16f2c920fe59b1f30.html#ab0e613c0894cead16f2c920fe59b1f30a49e68eff1d5eec1ce414bdefcaaefc42" title="Flags DISTANCES blocks as a type to be read.">NEXUS_UNKNOWN_BLOCK_BIT</a> = 0x80 
<a name="l00303"></a>00303         };
<a name="l00304"></a>00304 
<a name="l00312"></a>00312         <a class="code" href="classPublicNexusReader_a8ef04630a31b01d5a8b4283a46d79eea.html#a8ef04630a31b01d5a8b4283a46d79eea" title="Creates a new PublicNexusReader.">PublicNexusReader</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> blocksToRead = -1, <a class="code" href="classNxsReader_aae1b69753e31aba3ff7e4b48a5afba95.html#aae1b69753e31aba3ff7e4b48a5afba95">NxsReader::WarningHandlingMode</a> mode=<a class="code" href="classNxsReader_aae1b69753e31aba3ff7e4b48a5afba95.html#aae1b69753e31aba3ff7e4b48a5afba95a0b0c59f3609e43fd90018b8320345a44">NxsReader::WARNINGS_TO_STDERR</a>);
<a name="l00313"></a>00313         <span class="keyword">virtual</span> ~<a class="code" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a>();
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classPublicNexusReader_a0c0693f7035e1f5023141ba2fb4d58c3.html#a0c0693f7035e1f5023141ba2fb4d58c3" title="NxsReader::Execute().">Execute</a>(<a class="code" href="classNxsToken.html">NxsToken</a>&amp; token, <span class="keywordtype">bool</span> notifyStartStop = <span class="keyword">true</span>);
<a name="l00316"></a>00316         std::string GetErrorMessage()
<a name="l00317"></a>00317             {
<a name="l00318"></a>00318             <span class="keywordflow">return</span> errorMsg;
<a name="l00319"></a>00319             }
<a name="l00320"></a>00320 
<a name="l00329"></a>00329         <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> * <a class="code" href="classPublicNexusReader_af9c6a24ab69a4da7af8560b666cacc10.html#af9c6a24ab69a4da7af8560b666cacc10" title="Registers the strings is the vector as taxon labels.">RegisterTaxa</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt; &amp; tl);
<a name="l00330"></a>00330 
<a name="l00339"></a><a class="code" href="classPublicNexusReader_ae47b8fd65e25fb4b6c35285bcfaf4820.html#ae47b8fd65e25fb4b6c35285bcfaf4820">00339</a>         <a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * <a class="code" href="classPublicNexusReader_ae47b8fd65e25fb4b6c35285bcfaf4820.html#ae47b8fd65e25fb4b6c35285bcfaf4820">GetAssumptionsBlockTemplate</a>() {<span class="keywordflow">return</span> assumptionsBlockTemplate;}
<a name="l00348"></a><a class="code" href="classPublicNexusReader_a405c9a95ed0e344ed025fb0737843ff3.html#a405c9a95ed0e344ed025fb0737843ff3">00348</a>         <a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> * <a class="code" href="classPublicNexusReader_a405c9a95ed0e344ed025fb0737843ff3.html#a405c9a95ed0e344ed025fb0737843ff3">GetCharactersBlockTemplate</a>() {<span class="keywordflow">return</span> charactersBlockTemplate;}
<a name="l00357"></a><a class="code" href="classPublicNexusReader_af1af19d0005e238179bea98a6d637427.html#af1af19d0005e238179bea98a6d637427">00357</a>         <a class="code" href="classNxsDataBlock.html" title="This class handles reading and storage for the NEXUS block DATA.">NxsDataBlock</a> * <a class="code" href="classPublicNexusReader_af1af19d0005e238179bea98a6d637427.html#af1af19d0005e238179bea98a6d637427">GetDataBlockTemplate</a>() {<span class="keywordflow">return</span> dataBlockTemplate;}
<a name="l00366"></a><a class="code" href="classPublicNexusReader_a84b7bb3bde82b0d85d32c2ba96fd0442.html#a84b7bb3bde82b0d85d32c2ba96fd0442">00366</a>         <a class="code" href="classNxsDistancesBlock.html" title="This class handles reading and storage for the NEXUS block DISTANCES.">NxsDistancesBlock</a> * <a class="code" href="classPublicNexusReader_a84b7bb3bde82b0d85d32c2ba96fd0442.html#a84b7bb3bde82b0d85d32c2ba96fd0442">GetDistancesBlockTemplate</a>() {<span class="keywordflow">return</span> distancesBlockTemplate;}
<a name="l00375"></a><a class="code" href="classPublicNexusReader_acc4bb3056cd7021b9a1ebd4ae5e57e1e.html#acc4bb3056cd7021b9a1ebd4ae5e57e1e">00375</a>         <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> * <a class="code" href="classPublicNexusReader_acc4bb3056cd7021b9a1ebd4ae5e57e1e.html#acc4bb3056cd7021b9a1ebd4ae5e57e1e">GetTaxaBlockTemplate</a>() {<span class="keywordflow">return</span> taxaBlockTemplate;}
<a name="l00384"></a><a class="code" href="classPublicNexusReader_ab4f3cd4c449247ac07200b4b0c17a27a.html#ab4f3cd4c449247ac07200b4b0c17a27a">00384</a>         <a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> * <a class="code" href="classPublicNexusReader_ab4f3cd4c449247ac07200b4b0c17a27a.html#ab4f3cd4c449247ac07200b4b0c17a27a">GetTreesBlockTemplate</a>() {<span class="keywordflow">return</span> treesBlockTemplate;}
<a name="l00393"></a><a class="code" href="classPublicNexusReader_aa2588f0f37b5fda1b83ede35d3f1276b.html#aa2588f0f37b5fda1b83ede35d3f1276b">00393</a>         <a class="code" href="classNxsUnalignedBlock.html" title="This class handles reading and storage for the NEXUS block UNALIGNED.">NxsUnalignedBlock</a> * <a class="code" href="classPublicNexusReader_aa2588f0f37b5fda1b83ede35d3f1276b.html#aa2588f0f37b5fda1b83ede35d3f1276b">GetUnalignedBlockTemplate</a>() {<span class="keywordflow">return</span> unalignedBlockTemplate;}
<a name="l00402"></a><a class="code" href="classPublicNexusReader_aa4ad38153ca9ecbc2d339387bb30abfc.html#aa4ad38153ca9ecbc2d339387bb30abfc">00402</a>         NxsStoreTokensBlockReader * <a class="code" href="classPublicNexusReader_aa4ad38153ca9ecbc2d339387bb30abfc.html#aa4ad38153ca9ecbc2d339387bb30abfc">GetUnknownBlockTemplate</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> storerBlockTemplate;}
<a name="l00403"></a>00403 
<a name="l00408"></a>00408         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_aa866747d2c1e76c552a82abe0e097770.html#aa866747d2c1e76c552a82abe0e097770">GetNumAssumptionsBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa) <span class="keyword">const</span>;
<a name="l00413"></a>00413         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_aa866747d2c1e76c552a82abe0e097770.html#aa866747d2c1e76c552a82abe0e097770">GetNumAssumptionsBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> *chars) <span class="keyword">const</span>;
<a name="l00418"></a>00418         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_aa866747d2c1e76c552a82abe0e097770.html#aa866747d2c1e76c552a82abe0e097770">GetNumAssumptionsBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> *trees) <span class="keyword">const</span>;
<a name="l00429"></a>00429         <a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * <a class="code" href="classPublicNexusReader_a50e399948b9bb735357d0b0d6b7a6bc6.html#a50e399948b9bb735357d0b0d6b7a6bc6">GetAssumptionsBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00430"></a>00430         <a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * <a class="code" href="classPublicNexusReader_a50e399948b9bb735357d0b0d6b7a6bc6.html#a50e399948b9bb735357d0b0d6b7a6bc6">GetAssumptionsBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00431"></a>00431         <a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * <a class="code" href="classPublicNexusReader_a50e399948b9bb735357d0b0d6b7a6bc6.html#a50e399948b9bb735357d0b0d6b7a6bc6">GetAssumptionsBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00432"></a>00432 
<a name="l00435"></a>00435         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_ac307a529e4cdb30345ac635af65ea355.html#ac307a529e4cdb30345ac635af65ea355">GetNumUnknownBlocks</a>() <span class="keyword">const</span>;
<a name="l00440"></a>00440         NxsStoreTokensBlockReader * <a class="code" href="classPublicNexusReader_a2e480c1584cf3bded9559387e279c490.html#a2e480c1584cf3bded9559387e279c490">GetUnknownBlock</a>(<span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00441"></a>00441 
<a name="l00446"></a>00446         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_acebafd1948979c5061cd368cd8506150.html#acebafd1948979c5061cd368cd8506150">GetNumCharactersBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa) <span class="keyword">const</span>;
<a name="l00457"></a>00457         <a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> * <a class="code" href="classPublicNexusReader_a96486f6674d8900b5db0363676786925.html#a96486f6674d8900b5db0363676786925">GetCharactersBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00458"></a>00458 
<a name="l00463"></a>00463         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_ab62942accf6bfd8dde452de8d01e751c.html#ab62942accf6bfd8dde452de8d01e751c">GetNumDistancesBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa) <span class="keyword">const</span>;
<a name="l00474"></a>00474         <a class="code" href="classNxsDistancesBlock.html" title="This class handles reading and storage for the NEXUS block DISTANCES.">NxsDistancesBlock</a> * <a class="code" href="classPublicNexusReader_afafe946e29aab054464f66b5ab440f97.html#afafe946e29aab054464f66b5ab440f97">GetDistancesBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00475"></a>00475 
<a name="l00480"></a>00480         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_a71ea2ff2c973b778853fc528fc72bdea.html#a71ea2ff2c973b778853fc528fc72bdea">GetNumTaxaBlocks</a>() <span class="keyword">const</span>;
<a name="l00484"></a>00484         <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> * <a class="code" href="classPublicNexusReader_ac47e56262f92d30abcfc4d6b9130613b.html#ac47e56262f92d30abcfc4d6b9130613b">GetTaxaBlock</a>(<span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00485"></a>00485 
<a name="l00490"></a>00490         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_a58420974c2c1617ae477f852c791a4ed.html#a58420974c2c1617ae477f852c791a4ed">GetNumTreesBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa) <span class="keyword">const</span>;
<a name="l00501"></a>00501         <a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> * <a class="code" href="classPublicNexusReader_a76142a76fcec023be56bf0dbdc80e28c.html#a76142a76fcec023be56bf0dbdc80e28c">GetTreesBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00502"></a>00502 
<a name="l00507"></a>00507         <span class="keywordtype">unsigned</span> <a class="code" href="classPublicNexusReader_a93f6fa336aae50c4fcea7ccc2cb117cb.html#a93f6fa336aae50c4fcea7ccc2cb117cb">GetNumUnalignedBlocks</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa) <span class="keyword">const</span>;
<a name="l00518"></a>00518         <a class="code" href="classNxsUnalignedBlock.html" title="This class handles reading and storage for the NEXUS block UNALIGNED.">NxsUnalignedBlock</a> * <a class="code" href="classPublicNexusReader_a944a565c5e0cea71247b605f8d839683.html#a944a565c5e0cea71247b605f8d839683">GetUnalignedBlock</a>(<span class="keyword">const</span> <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> *taxa, <span class="keywordtype">unsigned</span> index) <span class="keyword">const</span>;
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 
<a name="l00525"></a><a class="code" href="classPublicNexusReader_a028b3f5ba662814de5e21e4b230b905f.html#a028b3f5ba662814de5e21e4b230b905f">00525</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a028b3f5ba662814de5e21e4b230b905f.html#a028b3f5ba662814de5e21e4b230b905f" title="Deletes all of the blocks that were spawned during the parse.">DeleteBlocksFromFactories</a>()
<a name="l00526"></a>00526             {
<a name="l00527"></a>00527             <a class="code" href="classPublicNexusReader_a028b3f5ba662814de5e21e4b230b905f.html#a028b3f5ba662814de5e21e4b230b905f" title="Deletes all of the blocks that were spawned during the parse.">NxsReader::DeleteBlocksFromFactories</a>();
<a name="l00528"></a>00528             <a class="code" href="classPublicNexusReader_a551fca3a019ad086e4c717495559ffe0.html#a551fca3a019ad086e4c717495559ffe0" title="Mainly used internally.">ClearUsedBlockList</a>();
<a name="l00529"></a>00529             }
<a name="l00536"></a>00536         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a551fca3a019ad086e4c717495559ffe0.html#a551fca3a019ad086e4c717495559ffe0" title="Mainly used internally.">ClearUsedBlockList</a>();
<a name="l00545"></a><a class="code" href="classPublicNexusReader_af41ef4d23cb463a436928d18f8c7258d.html#af41ef4d23cb463a436928d18f8c7258d">00545</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_af41ef4d23cb463a436928d18f8c7258d.html#af41ef4d23cb463a436928d18f8c7258d" title="Removes all references to blocks spawned during the parse, but does NOT delete them...">ClearContent</a>()
<a name="l00546"></a>00546             {
<a name="l00547"></a>00547             assumptionsBlockVec.clear();
<a name="l00548"></a>00548             charactersBlockVec.clear();
<a name="l00549"></a>00549             dataBlockVec.clear();
<a name="l00550"></a>00550             distancesBlockVec.clear();
<a name="l00551"></a>00551             storerBlockVec.clear();
<a name="l00552"></a>00552             taxaBlockVec.clear();
<a name="l00553"></a>00553             treesBlockVec.clear();
<a name="l00554"></a>00554             unalignedBlockVec.clear();
<a name="l00555"></a>00555             <a class="code" href="classPublicNexusReader_af41ef4d23cb463a436928d18f8c7258d.html#af41ef4d23cb463a436928d18f8c7258d" title="Removes all references to blocks spawned during the parse, but does NOT delete them...">ExceptionRaisingNxsReader::ClearContent</a>();
<a name="l00556"></a>00556             }
<a name="l00557"></a>00557 
<a name="l00564"></a><a class="code" href="classPublicNexusReader_aaf64f2bc1a9b0d43b797567893443faf.html#aaf64f2bc1a9b0d43b797567893443faf">00564</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_aaf64f2bc1a9b0d43b797567893443faf.html#aaf64f2bc1a9b0d43b797567893443faf" title="Adds (or &amp;quot;registers&amp;quot;) a NxsAssumptionsBlock with the reader.">AddReadAssumptionsBlock</a>(<a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * block)
<a name="l00565"></a>00565             {
<a name="l00566"></a>00566             assumptionsBlockVec.push_back(block);
<a name="l00567"></a>00567             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;ASSUMPTIONS&quot;</span>, block);
<a name="l00568"></a>00568             }
<a name="l00575"></a><a class="code" href="classPublicNexusReader_ad723bd88011d996bdfa9c158e39ce21e.html#ad723bd88011d996bdfa9c158e39ce21e">00575</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_ad723bd88011d996bdfa9c158e39ce21e.html#ad723bd88011d996bdfa9c158e39ce21e" title="Adds (or &amp;quot;registers&amp;quot;) a NxsCharactersBlock with the reader.">AddReadCharactersBlock</a>(<a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> * block)
<a name="l00576"></a>00576             {
<a name="l00577"></a>00577             charactersBlockVec.push_back(block);
<a name="l00578"></a>00578             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;CHARACTERS&quot;</span>, block);
<a name="l00579"></a>00579             }
<a name="l00586"></a><a class="code" href="classPublicNexusReader_a63b1a11138f3130e3f30c16c2ac3bc53.html#a63b1a11138f3130e3f30c16c2ac3bc53">00586</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a63b1a11138f3130e3f30c16c2ac3bc53.html#a63b1a11138f3130e3f30c16c2ac3bc53" title="Adds (or &amp;quot;registers&amp;quot;) a NxsDataBlock with the reader.">AddReadDataBlock</a>(<a class="code" href="classNxsDataBlock.html" title="This class handles reading and storage for the NEXUS block DATA.">NxsDataBlock</a> * block)
<a name="l00587"></a>00587             {
<a name="l00588"></a>00588             dataBlockVec.push_back(block);
<a name="l00589"></a>00589             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;CHARACTERS&quot;</span>, block);
<a name="l00590"></a>00590             }
<a name="l00597"></a><a class="code" href="classPublicNexusReader_a6c828a284635e114faa2649c1ec3ade4.html#a6c828a284635e114faa2649c1ec3ade4">00597</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a6c828a284635e114faa2649c1ec3ade4.html#a6c828a284635e114faa2649c1ec3ade4" title="Adds (or &amp;quot;registers&amp;quot;) a NxsDistancesBlock with the reader.">AddReadDistancesBlock</a>(<a class="code" href="classNxsDistancesBlock.html" title="This class handles reading and storage for the NEXUS block DISTANCES.">NxsDistancesBlock</a> * block)
<a name="l00598"></a>00598             {
<a name="l00599"></a>00599             distancesBlockVec.push_back(block);
<a name="l00600"></a>00600             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;DISTANCES&quot;</span>, block);
<a name="l00601"></a>00601             }
<a name="l00608"></a><a class="code" href="classPublicNexusReader_ae52b42f963d1d90c8601f42c1d89d929.html#ae52b42f963d1d90c8601f42c1d89d929">00608</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_ae52b42f963d1d90c8601f42c1d89d929.html#ae52b42f963d1d90c8601f42c1d89d929" title="Adds (or &amp;quot;registers&amp;quot;) a NxsTaxaBlock with the reader.">AddReadTaxaBlock</a>(<a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> * block)
<a name="l00609"></a>00609             {
<a name="l00610"></a>00610             taxaBlockVec.push_back(block);
<a name="l00611"></a>00611             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;TAXA&quot;</span>, block);
<a name="l00612"></a>00612             }
<a name="l00619"></a><a class="code" href="classPublicNexusReader_a4fd4e9eef8cde0beb1764633a9a648d1.html#a4fd4e9eef8cde0beb1764633a9a648d1">00619</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a4fd4e9eef8cde0beb1764633a9a648d1.html#a4fd4e9eef8cde0beb1764633a9a648d1" title="Adds (or &amp;quot;registers&amp;quot;) a NxsTreesBlock with the reader.">AddReadTreesBlock</a>(<a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> * block)
<a name="l00620"></a>00620             {
<a name="l00621"></a>00621             treesBlockVec.push_back(block);
<a name="l00622"></a>00622             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;TREES&quot;</span>, block);
<a name="l00623"></a>00623             }
<a name="l00630"></a><a class="code" href="classPublicNexusReader_a15a916a79c4d416122ad5542b107da4b.html#a15a916a79c4d416122ad5542b107da4b">00630</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a15a916a79c4d416122ad5542b107da4b.html#a15a916a79c4d416122ad5542b107da4b" title="Adds (or &amp;quot;registers&amp;quot;) a NxsUnalignedBlock with the reader.">AddReadUnalignedBlock</a>(<a class="code" href="classNxsUnalignedBlock.html" title="This class handles reading and storage for the NEXUS block UNALIGNED.">NxsUnalignedBlock</a> * block)
<a name="l00631"></a>00631             {
<a name="l00632"></a>00632             unalignedBlockVec.push_back(block);
<a name="l00633"></a>00633             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(<span class="stringliteral">&quot;UNKNOWN&quot;</span>, block);
<a name="l00634"></a>00634             }
<a name="l00641"></a><a class="code" href="classPublicNexusReader_a8cd369eb7a75d927bc25ad0771ff6835.html#a8cd369eb7a75d927bc25ad0771ff6835">00641</a>         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a8cd369eb7a75d927bc25ad0771ff6835.html#a8cd369eb7a75d927bc25ad0771ff6835" title="Adds (or &amp;quot;registers&amp;quot;) a NxsStoreTokensBlockReader with the reader.">AddReadUnknownBlock</a>(NxsStoreTokensBlockReader * block)
<a name="l00642"></a>00642             {
<a name="l00643"></a>00643             storerBlockVec.push_back(block);
<a name="l00644"></a>00644             <a class="code" href="classNxsReader_a39247e6fe17f97d2cb2fb6d2e60b5db5.html#a39247e6fe17f97d2cb2fb6d2e60b5db5" title="This function is useful after ClearContext() has been called.">AddReadBlock</a>(block-&gt;GetID(), block);
<a name="l00645"></a>00645             }
<a name="l00646"></a>00646 
<a name="l00652"></a><a class="code" href="classPublicNexusReader_adb44bac2531443daa097ce7134972af3.html#adb44bac2531443daa097ce7134972af3">00652</a>         <a class="code" href="classNxsConversionOutputRecord.html" title="This class is used internally to keep track of operations that may be needed to make...">NxsConversionOutputRecord</a> <a class="code" href="classPublicNexusReader_adb44bac2531443daa097ce7134972af3.html#adb44bac2531443daa097ce7134972af3" title="this public field is used in some hacks that relate to printing out translation records...">conversionOutputRecord</a>;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654     <span class="keyword">protected</span>:
<a name="l00655"></a>00655         <span class="keywordtype">void</span> <a class="code" href="classPublicNexusReader_a7c6f0491f255c5652918de1f3521e063.html#a7c6f0491f255c5652918de1f3521e063" title="Called after successful execute.">PostExecuteHook</a>();
<a name="l00656"></a>00656         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classPublicNexusReader_a4ef6698174bbd47bcbc346aaf8f64f17.html#a4ef6698174bbd47bcbc346aaf8f64f17" title="Add a factory for NEXUS block readers to the front of the factories list.">AddFactory</a>(<a class="code" href="classNxsBlockFactory.html" title="This abstract class defines the interface for a factory that can generate NxsBlocks...">NxsBlockFactory</a> *);
<a name="l00657"></a>00657         <span class="keywordtype">int</span> bitsForBlocksToRead;
<a name="l00658"></a>00658         <a class="code" href="classNxsCloneBlockFactory.html" title="A factory class that takes examplar that will be cloned to read each block.">NxsCloneBlockFactory</a> cloneFactory;
<a name="l00659"></a>00659 
<a name="l00660"></a>00660         <a class="code" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> * assumptionsBlockTemplate;
<a name="l00661"></a>00661         <a class="code" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> * charactersBlockTemplate;
<a name="l00662"></a>00662         <a class="code" href="classNxsDataBlock.html" title="This class handles reading and storage for the NEXUS block DATA.">NxsDataBlock</a> * dataBlockTemplate;
<a name="l00663"></a>00663         <a class="code" href="classNxsDistancesBlock.html" title="This class handles reading and storage for the NEXUS block DISTANCES.">NxsDistancesBlock</a> * distancesBlockTemplate;
<a name="l00664"></a>00664         NxsStoreTokensBlockReader * storerBlockTemplate;
<a name="l00665"></a>00665         <a class="code" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> * taxaBlockTemplate;
<a name="l00666"></a>00666         <a class="code" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> * treesBlockTemplate;
<a name="l00667"></a>00667         <a class="code" href="classNxsUnalignedBlock.html" title="This class handles reading and storage for the NEXUS block UNALIGNED.">NxsUnalignedBlock</a> * unalignedBlockTemplate;
<a name="l00668"></a>00668 
<a name="l00669"></a>00669         std::vector&lt;NxsAssumptionsBlock *&gt; assumptionsBlockVec;
<a name="l00670"></a>00670         std::vector&lt;NxsCharactersBlock *&gt; charactersBlockVec;
<a name="l00671"></a>00671         std::vector&lt;NxsDataBlock *&gt; dataBlockVec;
<a name="l00672"></a>00672         std::vector&lt;NxsDistancesBlock *&gt; distancesBlockVec;
<a name="l00673"></a>00673         std::vector&lt;NxsStoreTokensBlockReader *&gt; storerBlockVec;
<a name="l00674"></a>00674         std::vector&lt;NxsTaxaBlock *&gt; taxaBlockVec;
<a name="l00675"></a>00675         std::vector&lt;NxsTreesBlock *&gt; treesBlockVec;
<a name="l00676"></a>00676         std::vector&lt;NxsUnalignedBlock *&gt; unalignedBlockVec;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678         std::string errorMsg;
<a name="l00679"></a>00679     <span class="keyword">private</span>:
<a name="l00680"></a>00680         <a class="code" href="classPublicNexusReader_a8ef04630a31b01d5a8b4283a46d79eea.html#a8ef04630a31b01d5a8b4283a46d79eea" title="Creates a new PublicNexusReader.">PublicNexusReader</a>(<span class="keyword">const</span> <a class="code" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a> &amp;); <span class="comment">// do not define. Not copyable</span>
<a name="l00681"></a>00681         <a class="code" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a> &amp; operator=(<span class="keyword">const</span> <a class="code" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a> &amp;); <span class="comment">// do not define. Not copyable</span>
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     };
<a name="l00684"></a>00684 
<a name="l00685"></a>00685 
<a name="l00686"></a>00686 <span class="preprocessor">#endif</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span>
<a name="l00688"></a>00688 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 29 16:37:11 2010 for NCL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
