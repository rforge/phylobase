<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NCL: nxstoken.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="ncl.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>nxstoken.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//  Copyright (C) 1999-2003 Paul O. Lewis</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">//  This file is part of NCL (Nexus Class Library) version 2.0.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">//  NCL is free software; you can redistribute it and/or modify</span>
<a name="l00006"></a>00006 <span class="comment">//  it under the terms of the GNU General Public License as published by</span>
<a name="l00007"></a>00007 <span class="comment">//  the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00008"></a>00008 <span class="comment">//  (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">//  NCL is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">//  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<a name="l00013"></a>00013 <span class="comment">//  GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">//</span>
<a name="l00015"></a>00015 <span class="comment">//  You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment">//  along with NCL; if not, write to the Free Software Foundation, Inc.,</span>
<a name="l00017"></a>00017 <span class="comment">//  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef NCL_NXSTOKEN_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define NCL_NXSTOKEN_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;ncl/nxsexception.h&quot;</span>
<a name="l00024"></a>00024 <span class="keyword">class </span><a class="code" href="classNxsToken.html">NxsToken</a>;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="keyword">class </span>NxsX_UnexpectedEOF: <span class="keyword">public</span> <a class="code" href="classNxsException.html" title="Exception class that conveys a message specific to the problem encountered.">NxsException</a>
<a name="l00027"></a>00027     {
<a name="l00028"></a>00028     <span class="keyword">public</span>:
<a name="l00029"></a>00029         NxsX_UnexpectedEOF(<a class="code" href="classNxsToken.html">NxsToken</a> &amp;);
<a name="l00030"></a>00030     };
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00110"></a><a class="code" href="classNxsComment.html">00110</a> <span class="keyword">class </span><a class="code" href="classNxsComment.html" title="General notes on NexusTokenizing.">NxsComment</a>
<a name="l00111"></a>00111     {
<a name="l00112"></a>00112     <span class="keyword">public</span>:
<a name="l00113"></a>00113         <a class="code" href="classNxsComment.html" title="General notes on NexusTokenizing.">NxsComment</a>(<span class="keyword">const</span> std::string &amp; s, <span class="keywordtype">long</span> lineNumber, <span class="keywordtype">long</span> colNumber)
<a name="l00114"></a>00114             :body(s),
<a name="l00115"></a>00115             line(lineNumber),
<a name="l00116"></a>00116             col(colNumber)
<a name="l00117"></a>00117             {}
<a name="l00118"></a>00118         <span class="keywordtype">long</span>        GetLineNumber()<span class="keyword"> const</span>
<a name="l00119"></a>00119 <span class="keyword">            </span>{
<a name="l00120"></a>00120             <span class="keywordflow">return</span> line;
<a name="l00121"></a>00121             }
<a name="l00122"></a>00122         <span class="keywordtype">long</span>        GetColumnNumber()<span class="keyword"> const</span>
<a name="l00123"></a>00123 <span class="keyword">            </span>{
<a name="l00124"></a>00124             <span class="keywordflow">return</span> col;
<a name="l00125"></a>00125             }
<a name="l00126"></a>00126         <span class="keyword">const</span> std::string &amp; GetText()<span class="keyword"> const</span>
<a name="l00127"></a>00127 <span class="keyword">            </span>{
<a name="l00128"></a>00128             <span class="keywordflow">return</span> body;
<a name="l00129"></a>00129             }
<a name="l00130"></a>00130         <span class="keywordtype">void</span> WriteAsNexus(std::ostream &amp;out)<span class="keyword"> const</span>
<a name="l00131"></a>00131 <span class="keyword">            </span>{
<a name="l00132"></a>00132             out &lt;&lt; <span class="charliteral">&#39;[&#39;</span> &lt;&lt; body &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;
<a name="l00133"></a>00133             }
<a name="l00134"></a>00134     <span class="keyword">private</span>:
<a name="l00135"></a>00135         std::string body;
<a name="l00136"></a>00136         <span class="keywordtype">long</span> line;
<a name="l00137"></a>00137         <span class="keywordtype">long</span> col;
<a name="l00138"></a>00138     };
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00144"></a><a class="code" href="classNxsTokenPosInfo.html">00144</a> <span class="keyword">class </span><a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a>
<a name="l00145"></a>00145     {
<a name="l00146"></a>00146     <span class="keyword">public</span>:
<a name="l00147"></a>00147         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a>()
<a name="l00148"></a>00148             :pos(0),
<a name="l00149"></a>00149             line(-1),
<a name="l00150"></a>00150             col(-1)
<a name="l00151"></a>00151             {}
<a name="l00152"></a>00152         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a>(file_pos position, <span class="keywordtype">long</span> lineno, <span class="keywordtype">long</span> columnno)
<a name="l00153"></a>00153             :pos(position),
<a name="l00154"></a>00154             line(lineno),
<a name="l00155"></a>00155             col(columnno)
<a name="l00156"></a>00156             {}
<a name="l00157"></a>00157         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a>(<span class="keyword">const</span> <a class="code" href="classNxsToken.html">NxsToken</a> &amp;);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         file_pos    GetFilePosition()<span class="keyword"> const</span>
<a name="l00160"></a>00160 <span class="keyword">            </span>{
<a name="l00161"></a>00161             <span class="keywordflow">return</span> pos;
<a name="l00162"></a>00162             }
<a name="l00163"></a>00163 
<a name="l00164"></a>00164         <span class="keywordtype">long</span>        GetLineNumber()<span class="keyword"> const</span>
<a name="l00165"></a>00165 <span class="keyword">            </span>{
<a name="l00166"></a>00166             <span class="keywordflow">return</span> line;
<a name="l00167"></a>00167             }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="keywordtype">long</span>        GetColumnNumber()<span class="keyword"> const</span>
<a name="l00170"></a>00170 <span class="keyword">            </span>{
<a name="l00171"></a>00171             <span class="keywordflow">return</span> col;
<a name="l00172"></a>00172             }
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 
<a name="l00175"></a>00175         file_pos    pos;    <span class="comment">/* current file position */</span>
<a name="l00176"></a>00176         <span class="keywordtype">long</span>        line;   <span class="comment">/* current line in file */</span>
<a name="l00177"></a>00177         <span class="keywordtype">long</span>        col;    <span class="comment">/* column of current line */</span>
<a name="l00178"></a>00178     };
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 
<a name="l00187"></a><a class="code" href="classNxsSimpleCommandStrings.html">00187</a> <span class="keyword">class </span><a class="code" href="classNxsSimpleCommandStrings.html" title="A structure for storing the name of a command and to maps of option names to value...">NxsSimpleCommandStrings</a>
<a name="l00188"></a>00188     {
<a name="l00189"></a>00189     <span class="keyword">public</span>:
<a name="l00190"></a>00190         <span class="keyword">typedef</span> std::vector&lt;std::string&gt; VecString;
<a name="l00191"></a>00191         <span class="keyword">typedef</span> std::list&lt;VecString&gt; MatString;
<a name="l00192"></a>00192         <span class="keyword">typedef</span> std::pair&lt;NxsTokenPosInfo, std::string&gt; SingleValFromFile;
<a name="l00193"></a>00193         <span class="keyword">typedef</span> std::pair&lt;NxsTokenPosInfo, VecString &gt; MultiValFromFile;
<a name="l00194"></a>00194         <span class="keyword">typedef</span> std::pair&lt;NxsTokenPosInfo, MatString &gt; MatFromFile;
<a name="l00195"></a>00195         <span class="keyword">typedef</span> std::map&lt;std::string, SingleValFromFile&gt; StringToValFromFile;
<a name="l00196"></a>00196         <span class="keyword">typedef</span> std::map&lt;std::string,  MultiValFromFile&gt; StringToMultiValFromFile;
<a name="l00197"></a>00197         <span class="keyword">typedef</span> std::map&lt;std::string,  MatFromFile&gt; StringToMatFromFile;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <span class="comment">// Looks for k in opts and multiOpts. Returns all of the values</span>
<a name="l00200"></a>00200         <span class="comment">//  for the command option (will be an empty vector of strings if the option was not found).</span>
<a name="l00201"></a>00201         <span class="comment">// Case-sensitive!</span>
<a name="l00202"></a>00202         <span class="comment">// If an option is in multiOpts and opts, then only the value from opts will be returned!</span>
<a name="l00203"></a>00203         MultiValFromFile GetOptValue(<span class="keyword">const</span> std::string &amp;k)<span class="keyword"> const</span>
<a name="l00204"></a>00204 <span class="keyword">            </span>{
<a name="l00205"></a>00205             MultiValFromFile mvff;
<a name="l00206"></a>00206             StringToValFromFile::const_iterator s = this-&gt;opts.find(k);
<a name="l00207"></a>00207             <span class="keywordflow">if</span> (s != this-&gt;opts.end())
<a name="l00208"></a>00208                 {
<a name="l00209"></a>00209                 <span class="keyword">const</span> SingleValFromFile &amp; v(s-&gt;second);
<a name="l00210"></a>00210                 mvff.first = v.first;
<a name="l00211"></a>00211                 mvff.second.push_back(v.second);
<a name="l00212"></a>00212                 }
<a name="l00213"></a>00213             <span class="keywordflow">else</span>
<a name="l00214"></a>00214                 {
<a name="l00215"></a>00215                 StringToMultiValFromFile::const_iterator m = this-&gt;multiOpts.find(k);
<a name="l00216"></a>00216                 <span class="keywordflow">if</span> (m != this-&gt;multiOpts.end())
<a name="l00217"></a>00217                     {
<a name="l00218"></a>00218                     <span class="keyword">const</span> MultiValFromFile &amp; mv(m-&gt;second);
<a name="l00219"></a>00219                     mvff.first = mv.first;
<a name="l00220"></a>00220                     mvff.second  = mv.second;
<a name="l00221"></a>00221                     }
<a name="l00222"></a>00222                 }
<a name="l00223"></a>00223             <span class="keywordflow">return</span> mvff;
<a name="l00224"></a>00224             }
<a name="l00225"></a>00225 
<a name="l00226"></a>00226         MatFromFile GetMatOptValue(<span class="keyword">const</span> std::string &amp; k)<span class="keyword"> const</span>
<a name="l00227"></a>00227 <span class="keyword">            </span>{
<a name="l00228"></a>00228             StringToMatFromFile::const_iterator mIt = this-&gt;matOpts.find(k);
<a name="l00229"></a>00229             <span class="keywordflow">if</span> (mIt ==  this-&gt;matOpts.end())
<a name="l00230"></a>00230                 <span class="keywordflow">return</span> MatFromFile();
<a name="l00231"></a>00231             <span class="keywordflow">return</span> mIt-&gt;second;
<a name="l00232"></a>00232             }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         <span class="keywordtype">bool</span> HasKey(<span class="keyword">const</span> std::string k)<span class="keyword"> const</span>
<a name="l00235"></a>00235 <span class="keyword">            </span>{
<a name="l00236"></a>00236             <span class="keywordflow">if</span> (this-&gt;opts.find(k) !=  this-&gt;opts.end())
<a name="l00237"></a>00237                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00238"></a>00238             <span class="keywordflow">return</span> ((this-&gt;multiOpts.find(k) !=  this-&gt;multiOpts.end()) || (this-&gt;matOpts.find(k) !=  this-&gt;matOpts.end()));
<a name="l00239"></a>00239             }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         std::string cmdName;
<a name="l00242"></a>00242         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a> cmdPos;
<a name="l00243"></a>00243         StringToValFromFile opts;
<a name="l00244"></a>00244         StringToMultiValFromFile multiOpts;
<a name="l00245"></a>00245         StringToMatFromFile matOpts;
<a name="l00246"></a>00246     };
<a name="l00247"></a>00247 
<a name="l00251"></a><a class="code" href="classProcessedNxsToken.html">00251</a> <span class="keyword">class </span><a class="code" href="classProcessedNxsToken.html" title="Storage for a single NEXUS token, and embedded comments, along with end-of-the-token...">ProcessedNxsToken</a>
<a name="l00252"></a>00252     {
<a name="l00253"></a>00253     <span class="keyword">public</span>:
<a name="l00254"></a>00254         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classProcessedNxsToken_a548e8059aa207b0fabc0e0cf1a2319cc.html#a548e8059aa207b0fabc0e0cf1a2319cc" title="Convenience function.">IncrementNotLast</a>(std::vector&lt;ProcessedNxsToken&gt;::const_iterator &amp; it,
<a name="l00255"></a>00255                                      <span class="keyword">const</span> std::vector&lt;ProcessedNxsToken&gt;::const_iterator &amp;endIt,
<a name="l00256"></a>00256                                      <span class="keyword">const</span> <span class="keywordtype">char</span> * context);
<a name="l00257"></a>00257         <span class="keyword">static</span> <a class="code" href="classNxsSimpleCommandStrings.html" title="A structure for storing the name of a command and to maps of option names to value...">NxsSimpleCommandStrings</a> <a class="code" href="classProcessedNxsToken_aa3cb231fdba5074711497b7187b772ee.html#aa3cb231fdba5074711497b7187b772ee" title="Parses a ProcessedNxsCommand assuming that it has the form: cmd_name opt_name = opt_val...">ParseSimpleCmd</a>(<span class="keyword">const</span> std::vector&lt;ProcessedNxsToken&gt; &amp;, <span class="keywordtype">bool</span> convertToLower);
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00260"></a>00260         <a class="code" href="classProcessedNxsToken.html" title="Storage for a single NEXUS token, and embedded comments, along with end-of-the-token...">ProcessedNxsToken</a>(<span class="keyword">const</span> <a class="code" href="classNxsToken.html">NxsToken</a> &amp;t);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262         <a class="code" href="classProcessedNxsToken.html" title="Storage for a single NEXUS token, and embedded comments, along with end-of-the-token...">ProcessedNxsToken</a>(std::string &amp;s)
<a name="l00263"></a>00263             :token(s)
<a name="l00264"></a>00264             {}
<a name="l00265"></a>00265 
<a name="l00266"></a>00266         <a class="code" href="classProcessedNxsToken.html" title="Storage for a single NEXUS token, and embedded comments, along with end-of-the-token...">ProcessedNxsToken</a>(std::string &amp;s, file_pos position,<span class="keywordtype">long</span> lineno, <span class="keywordtype">long</span> columnno)
<a name="l00267"></a>00267             :token(s),
<a name="l00268"></a>00268             posInfo(position, lineno, columnno)
<a name="l00269"></a>00269             {}
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         std::string GetToken()<span class="keyword"> const</span>
<a name="l00272"></a>00272 <span class="keyword">            </span>{
<a name="l00273"></a>00273             <span class="keywordflow">return</span> token;
<a name="l00274"></a>00274             }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276         <span class="keyword">const</span> std::vector&lt;NxsComment&gt; &amp; GetEmbeddedComments()<span class="keyword"> const</span>
<a name="l00277"></a>00277 <span class="keyword">            </span>{
<a name="l00278"></a>00278             <span class="keywordflow">return</span> embeddedComments;
<a name="l00279"></a>00279             }
<a name="l00280"></a>00280 
<a name="l00281"></a>00281         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a>     GetFilePosInfo()<span class="keyword"> const</span>
<a name="l00282"></a>00282 <span class="keyword">            </span>{
<a name="l00283"></a>00283             <span class="keywordflow">return</span> posInfo;
<a name="l00284"></a>00284             }
<a name="l00285"></a>00285         <span class="keyword">const</span> <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a> &amp; GetFilePosInfoConstRef()<span class="keyword"> const</span>
<a name="l00286"></a>00286 <span class="keyword">            </span>{
<a name="l00287"></a>00287             <span class="keywordflow">return</span> posInfo;
<a name="l00288"></a>00288             }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290         file_pos    GetFilePosition()<span class="keyword"> const</span>
<a name="l00291"></a>00291 <span class="keyword">            </span>{
<a name="l00292"></a>00292             <span class="keywordflow">return</span> posInfo.GetFilePosition();
<a name="l00293"></a>00293             }
<a name="l00294"></a>00294 
<a name="l00295"></a>00295         <span class="keywordtype">long</span>        GetLineNumber()<span class="keyword"> const</span>
<a name="l00296"></a>00296 <span class="keyword">            </span>{
<a name="l00297"></a>00297             <span class="keywordflow">return</span> posInfo.GetLineNumber();
<a name="l00298"></a>00298             }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300         <span class="keywordtype">long</span>        GetColumnNumber()<span class="keyword"> const</span>
<a name="l00301"></a>00301 <span class="keyword">            </span>{
<a name="l00302"></a>00302             <span class="keywordflow">return</span> posInfo.GetColumnNumber();
<a name="l00303"></a>00303             }
<a name="l00304"></a>00304 
<a name="l00305"></a>00305         <span class="keywordtype">bool</span>        Equals(<span class="keyword">const</span> <span class="keywordtype">char</span> *c)<span class="keyword"> const</span>
<a name="l00306"></a>00306 <span class="keyword">            </span>{
<a name="l00307"></a>00307             <span class="keywordflow">return</span> NxsString::case_insensitive_equals(token.c_str(), c);
<a name="l00308"></a>00308             }
<a name="l00309"></a>00309         <span class="keywordtype">bool</span>        EqualsCaseSensitive(<span class="keyword">const</span> <span class="keywordtype">char</span> *c)<span class="keyword"> const</span>
<a name="l00310"></a>00310 <span class="keyword">            </span>{
<a name="l00311"></a>00311             <span class="keywordflow">return</span> (strcmp(token.c_str(), c) == 0);
<a name="l00312"></a>00312             }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314         <span class="keywordtype">void</span>        SetEmbeddedComments(<span class="keyword">const</span> std::vector&lt;NxsComment&gt; &amp; c)
<a name="l00315"></a>00315             {
<a name="l00316"></a>00316             embeddedComments = c;
<a name="l00317"></a>00317             }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319         <span class="keywordtype">void</span> WriteAsNexus(std::ostream &amp;out)<span class="keyword"> const</span>
<a name="l00320"></a>00320 <span class="keyword">            </span>{
<a name="l00321"></a>00321             <span class="keywordflow">for</span>(std::vector&lt;NxsComment&gt;::const_iterator cIt = embeddedComments.begin(); cIt != embeddedComments.end(); ++cIt)
<a name="l00322"></a>00322                 cIt-&gt;WriteAsNexus(out);
<a name="l00323"></a>00323             out &lt;&lt; NxsString::GetEscaped(token);
<a name="l00324"></a>00324             }
<a name="l00325"></a>00325     <span class="keyword">private</span>:
<a name="l00326"></a>00326         std::string token;
<a name="l00327"></a>00327         <a class="code" href="classNxsTokenPosInfo.html" title="Storage for a file position, line number and column number.">NxsTokenPosInfo</a> posInfo;
<a name="l00328"></a>00328         std::vector&lt;NxsComment&gt; embeddedComments; <span class="comment">/* comments that were processed in the same GetToken operation that created this token. */</span>
<a name="l00329"></a>00329     };
<a name="l00330"></a>00330 
<a name="l00337"></a>00337 <span class="keyword">typedef</span> std::vector&lt;ProcessedNxsToken&gt; ProcessedNxsCommand;
<a name="l00338"></a>00338 <span class="keywordtype">bool</span> WriteCommandAsNexus(std::ostream &amp;, <span class="keyword">const</span> ProcessedNxsCommand &amp;);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00353"></a><a class="code" href="classNxsToken.html">00353</a> <span class="keyword">class </span><a class="code" href="classNxsToken.html">NxsToken</a>
<a name="l00354"></a>00354     {
<a name="l00355"></a>00355     <span class="keyword">public</span>:
<a name="l00356"></a>00356         <span class="keyword">static</span> std::string  <a class="code" href="classNxsToken_a9f41ec322921ff9cadad0ec566eaa0b5.html#a9f41ec322921ff9cadad0ec566eaa0b5" title="Returns copy of s but with quoting according to the NEXUS Standard iff s needs to...">EscapeString</a>(<span class="keyword">const</span> std::string &amp;);
<a name="l00357"></a>00357         <span class="keyword">static</span> <span class="keywordtype">bool</span>         <a class="code" href="classNxsToken_afb5c294e6dabdf8b451da2f3cea91135.html#afb5c294e6dabdf8b451da2f3cea91135" title="Returns copy of s but with quoting according to the NEXUS Standard (single quotes...">NeedsQuotes</a>(<span class="keyword">const</span> std::string &amp;);
<a name="l00358"></a>00358         <span class="keyword">static</span> std::string  <a class="code" href="classNxsToken_a76bc1b62bee1e6de6a9ab2e01d720517.html#a76bc1b62bee1e6de6a9ab2e01d720517" title="Gets remainder of a quoted NEXUS word (the first single quote character was read...">GetQuoted</a>(<span class="keyword">const</span> std::string &amp;);
<a name="l00359"></a>00359         <span class="keyword">static</span> <span class="keywordtype">void</span>         <a class="code" href="classNxsToken_a2a818f63a5d5057968d8a1e142775b31.html#a2a818f63a5d5057968d8a1e142775b31" title="Advances the token, and returns the unsigned int that the token represents.">DemandEndSemicolon</a>(<a class="code" href="classNxsToken.html">NxsToken</a> &amp;token, <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp; errormsg, <span class="keyword">const</span> <span class="keywordtype">char</span> *contextString);
<a name="l00360"></a>00360         <span class="keyword">static</span> <span class="keywordtype">unsigned</span>     <a class="code" href="classNxsToken_a73be5aaa22dcb8143f2ff51dded19458.html#a73be5aaa22dcb8143f2ff51dded19458" title="Advances the token, and returns the unsigned int that the token represents.">DemandPositiveInt</a>(<a class="code" href="classNxsToken.html">NxsToken</a> &amp;token, <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp; errormsg, <span class="keyword">const</span> <span class="keywordtype">char</span> *contextString);
<a name="l00361"></a>00361         <span class="keyword">static</span> std::map&lt;std::string, std::string&gt; ParseAsSimpleKeyValuePairs(<span class="keyword">const</span> ProcessedNxsCommand &amp; tv, <span class="keyword">const</span> <span class="keywordtype">char</span> *cmdName);
<a name="l00362"></a>00362 
<a name="l00363"></a>00363         <span class="keyword">enum</span> NxsTokenFlags  <span class="comment">/* For use with the variable labileFlags */</span>
<a name="l00364"></a>00364             {
<a name="l00365"></a>00365             saveCommandComments     = 0x0001,   <span class="comment">/* if set, command comments of the form [&amp;X] are not ignored but are instead saved as regular tokens (without the square brackets, however) */</span>
<a name="l00366"></a>00366             parentheticalToken      = 0x0002,   <span class="comment">/* if set, and if next character encountered is a left parenthesis, token will include everything up to the matching right parenthesis */</span>
<a name="l00367"></a>00367             curlyBracketedToken     = 0x0004,   <span class="comment">/* if set, and if next character encountered is a left curly bracket, token will include everything up to the matching right curly bracket */</span>
<a name="l00368"></a>00368             doubleQuotedToken       = 0x0008,   <span class="comment">/* if set, grabs entire phrase surrounded by double quotes */</span>
<a name="l00369"></a>00369             singleCharacterToken    = 0x0010,   <span class="comment">/* if set, next non-whitespace character returned as token */</span>
<a name="l00370"></a>00370             newlineIsToken          = 0x0020,   <span class="comment">/* if set, newline character treated as a token and atEOL set if newline encountered */</span>
<a name="l00371"></a>00371             tildeIsPunctuation      = 0x0040,   <span class="comment">/* if set, tilde character treated as punctuation and returned as a separate token */</span>
<a name="l00372"></a>00372             useSpecialPunctuation   = 0x0080,   <span class="comment">/* if set, character specified by the data member special is treated as punctuation and returned as a separate token */</span>
<a name="l00373"></a>00373             hyphenNotPunctuation    = 0x0100,   <span class="comment">/* if set, the hyphen character is not treated as punctutation (it is normally returned as a separate token) */</span>
<a name="l00374"></a>00374             preserveUnderscores     = 0x0200,   <span class="comment">/* if set, underscore characters inside tokens are not converted to blank spaces (normally, all underscores are automatically converted to blanks) */</span>
<a name="l00375"></a>00375             ignorePunctuation       = 0x0400    <span class="comment">/* if set, the normal punctuation symbols are treated the same as any other darkspace characters */</span>
<a name="l00376"></a>00376             };
<a name="l00377"></a>00377 
<a name="l00378"></a>00378         <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a>       errormsg;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380                         <a class="code" href="classNxsToken.html">NxsToken</a>(std::istream &amp;i);
<a name="l00381"></a>00381         <span class="keyword">virtual</span>         <a class="code" href="classNxsToken_af16a2c5f7bce562b487afc8038a4190d.html#af16a2c5f7bce562b487afc8038a4190d" title="Nothing needs to be done; all objects take care of deleting themselves.">~NxsToken</a>();
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a54326092fbb2974720ddbc2ea176bb65.html#a54326092fbb2974720ddbc2ea176bb65" title="Returns true if and only if last call to GetNextToken encountered the end-of-file...">AtEOF</a>();
<a name="l00384"></a>00384         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_ad2671eb776f8f76ac946fd5b76e93c0a.html#ad2671eb776f8f76ac946fd5b76e93c0a" title="Returns true if and only if last call to GetNextToken encountered the newline character...">AtEOL</a>();
<a name="l00385"></a>00385         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a27b278f4a91b233ec6412d1359ed4e04.html#a27b278f4a91b233ec6412d1359ed4e04" title="Returns true if token begins with the capitalized portion of `s&amp;#39; and, if token...">Abbreviation</a>(<a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s);
<a name="l00386"></a>00386         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a8982d8c087b1c10ffd794c1689e0acea.html#a8982d8c087b1c10ffd794c1689e0acea" title="Returns true if token NxsString begins with the NxsString `s&amp;#39;.">Begins</a>(<a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s, <span class="keywordtype">bool</span> respect_case = <span class="keyword">false</span>);
<a name="l00387"></a>00387         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_adaffa5866ddf0a39a26a5e436183b9c5.html#adaffa5866ddf0a39a26a5e436183b9c5" title="Converts all blanks in token to underscore characters.">BlanksToUnderscores</a>();
<a name="l00388"></a>00388         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a3fd38838e685bffa670dbbaa5b047966.html#a3fd38838e685bffa670dbbaa5b047966" title="Returns true if token NxsString exactly equals `s&amp;#39;.">Equals</a>(<a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s, <span class="keywordtype">bool</span> respect_case = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00389"></a>00389         <span class="keywordtype">bool</span>        EqualsCaseSensitive(<span class="keyword">const</span> <span class="keywordtype">char</span> *c)<span class="keyword"> const</span>
<a name="l00390"></a>00390 <span class="keyword">            </span>{
<a name="l00391"></a>00391             <span class="keywordflow">return</span> (strcmp(token.c_str(), c) == 0);
<a name="l00392"></a>00392             }
<a name="l00393"></a>00393 
<a name="l00394"></a>00394         <span class="keywordtype">long</span>            <a class="code" href="classNxsToken_a7272fd1469fa6424086a95ec4f92eab0.html#a7272fd1469fa6424086a95ec4f92eab0" title="Returns value stored in `filecol&amp;#39;, which keeps track of the current column in...">GetFileColumn</a>() <span class="keyword">const</span>;
<a name="l00395"></a>00395         file_pos        <a class="code" href="classNxsToken_a17e5caf91acc756c23159f76f8b2d0fd.html#a17e5caf91acc756c23159f76f8b2d0fd" title="Returns value stored in filepos, which keeps track of the current position in the...">GetFilePosition</a>() <span class="keyword">const</span>;
<a name="l00396"></a>00396         <span class="keywordtype">long</span>            <a class="code" href="classNxsToken_ae0fb11bf350d907295447864afa714ec.html#ae0fb11bf350d907295447864afa714ec" title="Returns value stored in `fileline&amp;#39;, which keeps track of the current line in...">GetFileLine</a>() <span class="keyword">const</span>;
<a name="l00397"></a>00397         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a3346e398b3f6b5e8c7c3cebc49ae1c4b.html#a3346e398b3f6b5e8c7c3cebc49ae1c4b" title="Reads characters from in until a complete token has been read and stored in token...">GetNextToken</a>();
<a name="l00398"></a>00398         <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a>       <a class="code" href="classNxsToken_a83d7b2a9a2307a0aee8476b904c8145f.html#a83d7b2a9a2307a0aee8476b904c8145f" title="Returns the data member `token&amp;#39;.">GetToken</a>(<span class="keywordtype">bool</span> respect_case = <span class="keyword">true</span>);
<a name="l00399"></a>00399         <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="classNxsToken_abb9c1599e43267a342fb72be7b878541.html#abb9c1599e43267a342fb72be7b878541" title="Returns the data member `token&amp;#39; as a C-style string.">GetTokenAsCStr</a>(<span class="keywordtype">bool</span> respect_case = <span class="keyword">true</span>);
<a name="l00400"></a>00400         <span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp;<a class="code" href="classNxsToken_a83fb9fa31b17d84caaa2c50c664d195a.html#a83fb9fa31b17d84caaa2c50c664d195a" title="Returns the token for functions that only need read only access - faster than GetToken...">GetTokenReference</a>() <span class="keyword">const</span>;
<a name="l00401"></a>00401         <span class="keywordtype">int</span>             <a class="code" href="classNxsToken_a8231aba780039e4ef1fe2fbf24e21dba.html#a8231aba780039e4ef1fe2fbf24e21dba" title="Returns token.size().">GetTokenLength</a>() <span class="keyword">const</span>;
<a name="l00402"></a>00402         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7" title="Returns true if current token is a single character and this character is either...">IsPlusMinusToken</a>();
<a name="l00403"></a>00403         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51" title="Returns true if current token is a single character and this character is a punctuation...">IsPunctuationToken</a>();
<a name="l00404"></a>00404         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641" title="Returns true if current token is a single character and this character is a whitespace...">IsWhitespaceToken</a>();
<a name="l00405"></a>00405         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7" title="Returns true if current token is a single character and this character is either...">IsPlusMinusToken</a>(<span class="keyword">const</span> std::string &amp; t);
<a name="l00406"></a>00406         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51" title="Returns true if current token is a single character and this character is a punctuation...">IsPunctuationToken</a>(<span class="keyword">const</span> std::string &amp; t);
<a name="l00407"></a>00407         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641" title="Returns true if current token is a single character and this character is a whitespace...">IsWhitespaceToken</a>(<span class="keyword">const</span> std::string &amp; t);
<a name="l00408"></a>00408         std::map&lt;std::string, std::string&gt; ProcessAsSimpleKeyValuePairs(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmdName);
<a name="l00409"></a>00409         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_af339d0b55c743a874f781e0fe2e3c6c0.html#af339d0b55c743a874f781e0fe2e3c6c0" title="Reads until &amp;quot;;&amp;quot; and fills the vector of ProcessedNxsToken objects.">ProcessAsCommand</a>(ProcessedNxsCommand *tokenVec);
<a name="l00410"></a>00410         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_ac77db1862982198172efd9bc908d8e38.html#ac77db1862982198172efd9bc908d8e38" title="Replaces current token NxsString with s.">ReplaceToken</a>(<span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s);
<a name="l00411"></a>00411         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_afd330ed87b253864f10dd8c4282d824d.html#afd330ed87b253864f10dd8c4282d824d" title="Sets token to the empty NxsString (&amp;quot;&amp;quot;).">ResetToken</a>();
<a name="l00412"></a>00412         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_ad6e4423d22411f5779f2043f22008256.html#ad6e4423d22411f5779f2043f22008256" title="Sets the special punctuation character to `c&amp;#39;.">SetSpecialPunctuationCharacter</a>(<span class="keywordtype">char</span> c);
<a name="l00413"></a>00413         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_afa5232738ca19e069173e8befe75e730.html#afa5232738ca19e069173e8befe75e730" title="Sets the bit specified in the variable `labileFlags&amp;#39;.">SetLabileFlagBit</a>(<span class="keywordtype">int</span> bit);
<a name="l00414"></a>00414         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a866fd0156710932ff8cc9aeeccde3fa6.html#a866fd0156710932ff8cc9aeeccde3fa6" title="Checks character stored in the variable saved to see if it matches supplied character...">StoppedOn</a>(<span class="keywordtype">char</span> ch);
<a name="l00415"></a>00415         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a1c6fa60bd11ed8df496ea30083005532.html#a1c6fa60bd11ed8df496ea30083005532" title="Strips whitespace from currently-stored token.">StripWhitespace</a>();
<a name="l00416"></a>00416         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a19a122c7b27d6cda65034acee1d61d01.html#a19a122c7b27d6cda65034acee1d61d01" title="Converts all alphabetical characters in token to upper case.">ToUpper</a>();
<a name="l00417"></a>00417         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a49faaacf5a07ec8d25323025b927ea08.html#a49faaacf5a07ec8d25323025b927ea08" title="Simply outputs the current NxsString stored in `token&amp;#39; to the output stream `out&amp;#39;...">Write</a>(std::ostream &amp;out);
<a name="l00418"></a>00418         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a00e1aed7c327e154092c5bf589af0715.html#a00e1aed7c327e154092c5bf589af0715" title="Simply outputs the current NxsString stored in `token&amp;#39; to the output stream `out&amp;#39;...">Writeln</a>(std::ostream &amp;out);
<a name="l00419"></a>00419 
<a name="l00420"></a>00420         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classNxsToken_a8bcc10cb8b852257dc0449491e74cbff.html#a8bcc10cb8b852257dc0449491e74cbff">OutputComment</a>(<span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp;msg);
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         <span class="keywordtype">void</span>            SetEOFAllowed(<span class="keywordtype">bool</span> e)
<a name="l00423"></a>00423             {
<a name="l00424"></a>00424             eofAllowed = e;
<a name="l00425"></a>00425             }
<a name="l00426"></a>00426         <span class="keywordtype">bool</span>            GetEOFAllowed()<span class="keyword"> const</span>
<a name="l00427"></a>00427 <span class="keyword">            </span>{
<a name="l00428"></a>00428             <span class="keywordflow">return</span> eofAllowed;
<a name="l00429"></a>00429             }
<a name="l00430"></a>00430         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a16037e7ccebcaeb82fd23cbb2adb7f5d.html#a16037e7ccebcaeb82fd23cbb2adb7f5d" title="Stores the current block name (for better error reporting only).">SetBlockName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00431"></a>00431         std::string     <a class="code" href="classNxsToken_a2c0b2d39950df0fdd9408f1fa5d9b831.html#a2c0b2d39950df0fdd9408f1fa5d9b831" title="Returns the token&amp;#39;s block name (for better error reporting).">GetBlockName</a>();
<a name="l00432"></a>00432         <span class="keyword">const</span> std::vector&lt;NxsComment&gt; &amp; GetEmbeddedComments()<span class="keyword"> const</span>
<a name="l00433"></a>00433 <span class="keyword">            </span>{
<a name="l00434"></a>00434             <span class="keywordflow">return</span> embeddedComments;
<a name="l00435"></a>00435             }
<a name="l00436"></a>00436         <span class="keywordtype">char</span>            PeekAtNextChar() <span class="keyword">const</span>;
<a name="l00437"></a>00437     <span class="keyword">protected</span>:
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_aa142a5a69e1c72baf998e368f727ffee.html#aa142a5a69e1c72baf998e368f727ffee" title="Adds `ch&amp;#39; to end of comment NxsString.">AppendToComment</a>(<span class="keywordtype">char</span> ch);
<a name="l00440"></a>00440         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_afb74dbfb0fa6a930fd33ef59e235f710.html#afb74dbfb0fa6a930fd33ef59e235f710" title="Adds `ch&amp;#39; to end of current token.">AppendToToken</a>(<span class="keywordtype">char</span> ch);
<a name="l00441"></a>00441         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a8d4815d0873a5f572a80e38306039cf9.html#a8d4815d0873a5f572a80e38306039cf9" title="Reads rest of comment (starting &amp;#39;[&amp;#39; already input) and acts accordingly.">GetComment</a>();
<a name="l00442"></a>00442         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a795e4e69cf60a1d2d61db352f79aedd2.html#a795e4e69cf60a1d2d61db352f79aedd2" title="Reads rest of a token surrounded with curly brackets (the starting &amp;#39;{&amp;#39; has...">GetCurlyBracketedToken</a>();
<a name="l00443"></a>00443         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a574341a2ecd844630d340a28e64ff413.html#a574341a2ecd844630d340a28e64ff413" title="Gets remainder of a double-quoted NEXUS word (the first double quote character was...">GetDoubleQuotedToken</a>();
<a name="l00444"></a>00444         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_a76bc1b62bee1e6de6a9ab2e01d720517.html#a76bc1b62bee1e6de6a9ab2e01d720517" title="Gets remainder of a quoted NEXUS word (the first single quote character was read...">GetQuoted</a>();
<a name="l00445"></a>00445         <span class="keywordtype">void</span>            <a class="code" href="classNxsToken_ad73bcb3d0feecbbf86d2b3b017667047.html#ad73bcb3d0feecbbf86d2b3b017667047" title="Reads rest of parenthetical token (starting &amp;#39;(&amp;#39; already input) up to and...">GetParentheticalToken</a>();
<a name="l00446"></a>00446         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_ace5934a87892ba50ebea2c1b93866dc3.html#ace5934a87892ba50ebea2c1b93866dc3" title="Returns true if character supplied is considered a punctuation character.">IsPunctuation</a>(<span class="keywordtype">char</span> ch);
<a name="l00447"></a>00447         <span class="keywordtype">bool</span>            <a class="code" href="classNxsToken_a4362f9387840f57ebde0f7aa5bf6d4c8.html#a4362f9387840f57ebde0f7aa5bf6d4c8" title="Returns true if character supplied is considered a whitespace character.">IsWhitespace</a>(<span class="keywordtype">char</span> ch);
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     <span class="keyword">private</span>:
<a name="l00450"></a>00450         <span class="keywordtype">void</span> AdvanceToNextCharInStream();
<a name="l00451"></a>00451         <span class="keywordtype">char</span>            GetNextChar();
<a name="l00452"></a>00452         <span class="comment">//char ReadNextChar();</span>
<a name="l00453"></a>00453 
<a name="l00454"></a>00454         std::istream    &amp;inputStream;       <span class="comment">/* reference to input stream from which tokens will be read */</span>
<a name="l00455"></a>00455         <span class="keywordtype">signed</span> <span class="keywordtype">char</span>     nextCharInStream;
<a name="l00456"></a>00456         file_pos        posOffBy;           <span class="comment">/* offset of the file pos (according to the stream) and the tokenizer (which is usually a character or two behind, due to saved chars */</span>
<a name="l00457"></a>00457         file_pos        usualPosOffBy;      <span class="comment">/* default of posOffBy.  Usually this is -1, but it can be positive if a tokenizer is created from a substring of the file */</span>
<a name="l00458"></a>00458         <span class="keywordtype">long</span>            fileLine;           <span class="comment">/* current file line */</span>
<a name="l00459"></a>00459         <span class="keywordtype">long</span>            fileColumn;         <span class="comment">/* current column in current line (refers to column immediately following token just read) */</span>
<a name="l00460"></a>00460         <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a>       token;              <span class="comment">/* the character buffer used to store the current token */</span>
<a name="l00461"></a>00461         <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a>       comment;            <span class="comment">/* temporary buffer used to store output comments while they are being built */</span>
<a name="l00462"></a>00462         <span class="keywordtype">bool</span>            eofAllowed;
<a name="l00463"></a>00463         <span class="keywordtype">signed</span> <span class="keywordtype">char</span>     saved;              <span class="comment">/* either &#39;\0&#39; or is last character read from input stream */</span>
<a name="l00464"></a>00464         <span class="keywordtype">bool</span>            atEOF;              <span class="comment">/* true if end of file has been encountered */</span>
<a name="l00465"></a>00465         <span class="keywordtype">bool</span>            atEOL;              <span class="comment">/* true if newline encountered while newlineIsToken labile flag set */</span>
<a name="l00466"></a>00466         <span class="keywordtype">char</span>            special;            <span class="comment">/* ad hoc punctuation character; default value is &#39;\0&#39; */</span>
<a name="l00467"></a>00467         <span class="keywordtype">int</span>             labileFlags;        <span class="comment">/* storage for flags in the NxsTokenFlags enum */</span>
<a name="l00468"></a>00468         <span class="keywordtype">char</span>            whitespace[4];      <span class="comment">/* stores the 3 whitespace characters: blank space, tab and newline */</span>
<a name="l00469"></a>00469         std::string     currBlock;
<a name="l00470"></a>00470         std::vector&lt;NxsComment&gt;     embeddedComments;
<a name="l00471"></a>00471     };
<a name="l00472"></a>00472 
<a name="l00473"></a>00473 <span class="keyword">typedef</span> <a class="code" href="classNxsToken.html">NxsToken</a> <a class="code" href="classNxsToken.html">NexusToken</a>;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 <span class="keyword">inline</span> ProcessedNxsToken::ProcessedNxsToken(<span class="keyword">const</span> <a class="code" href="classNxsToken.html">NxsToken</a> &amp;t)
<a name="l00477"></a>00477     :token(t.GetTokenReference()),
<a name="l00478"></a>00478     posInfo(t)
<a name="l00479"></a>00479     {}
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="keyword">inline</span> NxsTokenPosInfo::NxsTokenPosInfo(<span class="keyword">const</span> <a class="code" href="classNxsToken.html">NxsToken</a> &amp;t)
<a name="l00482"></a>00482     :pos(t.GetFilePosition()),
<a name="l00483"></a>00483     line(t.GetFileLine()),
<a name="l00484"></a>00484     col(t.GetFileColumn())
<a name="l00485"></a>00485     {}
<a name="l00486"></a>00486 
<a name="l00490"></a><a class="code" href="classNxsToken_a16037e7ccebcaeb82fd23cbb2adb7f5d.html#a16037e7ccebcaeb82fd23cbb2adb7f5d">00490</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_a16037e7ccebcaeb82fd23cbb2adb7f5d.html#a16037e7ccebcaeb82fd23cbb2adb7f5d" title="Stores the current block name (for better error reporting only).">NxsToken::SetBlockName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *c)
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492     <span class="keywordflow">if</span> (c == 0L)
<a name="l00493"></a>00493         currBlock.clear();
<a name="l00494"></a>00494     <span class="keywordflow">else</span>
<a name="l00495"></a>00495         currBlock.assign(c);
<a name="l00496"></a>00496     }
<a name="l00497"></a>00497 
<a name="l00501"></a><a class="code" href="classNxsToken_a2c0b2d39950df0fdd9408f1fa5d9b831.html#a2c0b2d39950df0fdd9408f1fa5d9b831">00501</a> <span class="keyword">inline</span> std::string <a class="code" href="classNxsToken_a2c0b2d39950df0fdd9408f1fa5d9b831.html#a2c0b2d39950df0fdd9408f1fa5d9b831" title="Returns the token&amp;#39;s block name (for better error reporting).">NxsToken::GetBlockName</a>()
<a name="l00502"></a>00502     {
<a name="l00503"></a>00503     <span class="keywordflow">return</span> currBlock;
<a name="l00504"></a>00504     }
<a name="l00505"></a>00505 
<a name="l00509"></a><a class="code" href="classNxsToken_a9f41ec322921ff9cadad0ec566eaa0b5.html#a9f41ec322921ff9cadad0ec566eaa0b5">00509</a> <span class="keyword">inline</span> std::string <a class="code" href="classNxsToken_a9f41ec322921ff9cadad0ec566eaa0b5.html#a9f41ec322921ff9cadad0ec566eaa0b5" title="Returns copy of s but with quoting according to the NEXUS Standard iff s needs to...">NxsToken::EscapeString</a>(<span class="keyword">const</span> std::string &amp;s)
<a name="l00510"></a>00510     {
<a name="l00511"></a>00511     <span class="keywordflow">return</span> NxsString::GetEscaped(s);
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513 
<a name="l00517"></a><a class="code" href="classNxsToken_a83fb9fa31b17d84caaa2c50c664d195a.html#a83fb9fa31b17d84caaa2c50c664d195a">00517</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp;<a class="code" href="classNxsToken_a83fb9fa31b17d84caaa2c50c664d195a.html#a83fb9fa31b17d84caaa2c50c664d195a" title="Returns the token for functions that only need read only access - faster than GetToken...">NxsToken::GetTokenReference</a>()<span class="keyword"> const</span>
<a name="l00518"></a>00518 <span class="keyword">    </span>{
<a name="l00519"></a>00519     <span class="keywordflow">return</span> token;
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 
<a name="l00529"></a><a class="code" href="classNxsToken_a8bcc10cb8b852257dc0449491e74cbff.html#a8bcc10cb8b852257dc0449491e74cbff">00529</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_a8bcc10cb8b852257dc0449491e74cbff.html#a8bcc10cb8b852257dc0449491e74cbff">NxsToken::OutputComment</a>(
<a name="l00530"></a>00530   <span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> &amp;)    <span class="comment">/* the contents of the printable comment discovered in the NEXUS data file */</span>
<a name="l00531"></a>00531     {
<a name="l00532"></a>00532     }
<a name="l00533"></a>00533 
<a name="l00537"></a><a class="code" href="classNxsToken_aa142a5a69e1c72baf998e368f727ffee.html#aa142a5a69e1c72baf998e368f727ffee">00537</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_aa142a5a69e1c72baf998e368f727ffee.html#aa142a5a69e1c72baf998e368f727ffee" title="Adds `ch&amp;#39; to end of comment NxsString.">NxsToken::AppendToComment</a>(
<a name="l00538"></a>00538   <span class="keywordtype">char</span> ch)  <span class="comment">/* character to be appended to comment */</span>
<a name="l00539"></a>00539     {
<a name="l00540"></a>00540     comment += ch;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 
<a name="l00546"></a><a class="code" href="classNxsToken_afb74dbfb0fa6a930fd33ef59e235f710.html#afb74dbfb0fa6a930fd33ef59e235f710">00546</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_afb74dbfb0fa6a930fd33ef59e235f710.html#afb74dbfb0fa6a930fd33ef59e235f710" title="Adds `ch&amp;#39; to end of current token.">NxsToken::AppendToToken</a>(
<a name="l00547"></a>00547   <span class="keywordtype">char</span> ch)  <span class="comment">/* character to be appended to token */</span>
<a name="l00548"></a>00548     {
<a name="l00549"></a>00549     token.push_back(ch);
<a name="l00550"></a>00550     }
<a name="l00551"></a>00551 
<a name="l00568"></a><a class="code" href="classNxsToken_ace5934a87892ba50ebea2c1b93866dc3.html#ace5934a87892ba50ebea2c1b93866dc3">00568</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_ace5934a87892ba50ebea2c1b93866dc3.html#ace5934a87892ba50ebea2c1b93866dc3" title="Returns true if character supplied is considered a punctuation character.">NxsToken::IsPunctuation</a>(
<a name="l00569"></a>00569   <span class="keywordtype">char</span> ch)  <span class="comment">/* the character in question */</span>
<a name="l00570"></a>00570     {
<a name="l00571"></a>00571     <span class="comment">// PAUP 4.0b10</span>
<a name="l00572"></a>00572     <span class="comment">//  o allows ]`&lt;&gt; inside taxon names</span>
<a name="l00573"></a>00573     <span class="comment">//  o allows `&lt;&gt; inside taxset names</span>
<a name="l00574"></a>00574     <span class="comment">//</span>
<a name="l00575"></a>00575     <span class="keywordflow">if</span> (<a class="code" href="classNxsString_aa23ae34c9f86ff61d15acec3317adcdd.html#aa23ae34c9f86ff61d15acec3317adcdd" title="Returns true if `c&amp;#39; is any Nexus punctuation character: &amp;gt; ()[]{}/\,;:=*&amp;#39;&quot;`-+&amp;lt;&amp;gt;...">NxsString::IsNexusPunctuation</a>(ch))
<a name="l00576"></a>00576         {
<a name="l00577"></a>00577         <span class="keywordflow">if</span>  (labileFlags &amp; hyphenNotPunctuation)
<a name="l00578"></a>00578 <span class="preprocessor">#           if defined(NCL_VERSION_2_STYLE_HYPHEN) &amp;&amp; NCL_VERSION_2_STYLE_HYPHEN</span>
<a name="l00579"></a>00579 <span class="preprocessor"></span>                <span class="keywordflow">return</span> (ch != <span class="charliteral">&#39;-&#39;</span>);
<a name="l00580"></a>00580 <span class="preprocessor">#           else</span>
<a name="l00581"></a>00581 <span class="preprocessor"></span>                <span class="keywordflow">return</span> (ch != <span class="charliteral">&#39;-&#39;</span>  &amp;&amp; ch != <span class="charliteral">&#39;+&#39;</span>);
<a name="l00582"></a>00582 <span class="preprocessor">#           endif</span>
<a name="l00583"></a>00583 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00584"></a>00584         }
<a name="l00585"></a>00585     <span class="keywordflow">if</span> (labileFlags &amp; tildeIsPunctuation  &amp;&amp; ch == <span class="charliteral">&#39;~&#39;</span>)
<a name="l00586"></a>00586         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00587"></a>00587     <span class="keywordflow">return</span> (labileFlags &amp; useSpecialPunctuation  &amp;&amp; ch == special);
<a name="l00588"></a>00588     }
<a name="l00589"></a>00589 
<a name="l00594"></a><a class="code" href="classNxsToken_a4362f9387840f57ebde0f7aa5bf6d4c8.html#a4362f9387840f57ebde0f7aa5bf6d4c8">00594</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a4362f9387840f57ebde0f7aa5bf6d4c8.html#a4362f9387840f57ebde0f7aa5bf6d4c8" title="Returns true if character supplied is considered a whitespace character.">NxsToken::IsWhitespace</a>(
<a name="l00595"></a>00595   <span class="keywordtype">char</span> ch)  <span class="comment">/* the character in question */</span>
<a name="l00596"></a>00596     {
<a name="l00597"></a>00597     <span class="keywordtype">bool</span> ws = <span class="keyword">false</span>;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599     <span class="comment">// If ch is found in the whitespace array, it&#39;s whitespace</span>
<a name="l00600"></a>00600     <span class="comment">//</span>
<a name="l00601"></a>00601     <span class="keywordflow">if</span> (strchr(whitespace, ch) != NULL)
<a name="l00602"></a>00602         ws = <span class="keyword">true</span>;
<a name="l00603"></a>00603 
<a name="l00604"></a>00604     <span class="comment">// Unless of course ch is the newline character and we&#39;re currently</span>
<a name="l00605"></a>00605     <span class="comment">// treating newlines as darkspace!</span>
<a name="l00606"></a>00606     <span class="comment">//</span>
<a name="l00607"></a>00607     <span class="keywordflow">if</span> (labileFlags &amp; newlineIsToken &amp;&amp; ch == <span class="charliteral">&#39;\n&#39;</span>)
<a name="l00608"></a>00608         ws = <span class="keyword">false</span>;
<a name="l00609"></a>00609 
<a name="l00610"></a>00610     <span class="keywordflow">return</span> ws;
<a name="l00611"></a>00611     }
<a name="l00612"></a>00612 
<a name="l00617"></a><a class="code" href="classNxsToken_a54326092fbb2974720ddbc2ea176bb65.html#a54326092fbb2974720ddbc2ea176bb65">00617</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a54326092fbb2974720ddbc2ea176bb65.html#a54326092fbb2974720ddbc2ea176bb65" title="Returns true if and only if last call to GetNextToken encountered the end-of-file...">NxsToken::AtEOF</a>()
<a name="l00618"></a>00618     {
<a name="l00619"></a>00619     <span class="keywordflow">return</span> atEOF;
<a name="l00620"></a>00620     }
<a name="l00621"></a>00621 
<a name="l00626"></a><a class="code" href="classNxsToken_ad2671eb776f8f76ac946fd5b76e93c0a.html#ad2671eb776f8f76ac946fd5b76e93c0a">00626</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_ad2671eb776f8f76ac946fd5b76e93c0a.html#ad2671eb776f8f76ac946fd5b76e93c0a" title="Returns true if and only if last call to GetNextToken encountered the newline character...">NxsToken::AtEOL</a>()
<a name="l00627"></a>00627     {
<a name="l00628"></a>00628     <span class="keywordflow">return</span> atEOL;
<a name="l00629"></a>00629     }
<a name="l00630"></a>00630 
<a name="l00635"></a><a class="code" href="classNxsToken_adaffa5866ddf0a39a26a5e436183b9c5.html#adaffa5866ddf0a39a26a5e436183b9c5">00635</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_adaffa5866ddf0a39a26a5e436183b9c5.html#adaffa5866ddf0a39a26a5e436183b9c5" title="Converts all blanks in token to underscore characters.">NxsToken::BlanksToUnderscores</a>()
<a name="l00636"></a>00636     {
<a name="l00637"></a>00637     token.<a class="code" href="classNxsString_a3ff89d00ced11f031db05153b1bbb095.html#a3ff89d00ced11f031db05153b1bbb095" title="Converts any blank spaces found in the stored string to the underscore character...">BlanksToUnderscores</a>();
<a name="l00638"></a>00638     }
<a name="l00639"></a>00639 
<a name="l00644"></a><a class="code" href="classNxsToken_a7272fd1469fa6424086a95ec4f92eab0.html#a7272fd1469fa6424086a95ec4f92eab0">00644</a> <span class="keyword">inline</span> <span class="keywordtype">long</span>  <a class="code" href="classNxsToken_a7272fd1469fa6424086a95ec4f92eab0.html#a7272fd1469fa6424086a95ec4f92eab0" title="Returns value stored in `filecol&amp;#39;, which keeps track of the current column in...">NxsToken::GetFileColumn</a>()<span class="keyword"> const</span>
<a name="l00645"></a>00645 <span class="keyword">    </span>{
<a name="l00646"></a>00646     <span class="keywordflow">return</span> fileColumn;
<a name="l00647"></a>00647     }
<a name="l00648"></a>00648 
<a name="l00654"></a><a class="code" href="classNxsToken_a17e5caf91acc756c23159f76f8b2d0fd.html#a17e5caf91acc756c23159f76f8b2d0fd">00654</a> <span class="keyword">inline</span> file_pos  <a class="code" href="classNxsToken_a17e5caf91acc756c23159f76f8b2d0fd.html#a17e5caf91acc756c23159f76f8b2d0fd" title="Returns value stored in filepos, which keeps track of the current position in the...">NxsToken::GetFilePosition</a>()<span class="keyword"> const</span>
<a name="l00655"></a>00655 <span class="keyword">    </span>{
<a name="l00656"></a>00656     <span class="keywordflow">return</span> inputStream.rdbuf()-&gt;pubseekoff(0,std::ios::cur, std::ios::in) + posOffBy;
<a name="l00657"></a>00657     }
<a name="l00658"></a>00658 
<a name="l00663"></a><a class="code" href="classNxsToken_ae0fb11bf350d907295447864afa714ec.html#ae0fb11bf350d907295447864afa714ec">00663</a> <span class="keyword">inline</span> <span class="keywordtype">long</span>  <a class="code" href="classNxsToken_ae0fb11bf350d907295447864afa714ec.html#ae0fb11bf350d907295447864afa714ec" title="Returns value stored in `fileline&amp;#39;, which keeps track of the current line in...">NxsToken::GetFileLine</a>()<span class="keyword"> const</span>
<a name="l00664"></a>00664 <span class="keyword">    </span>{
<a name="l00665"></a>00665     <span class="keywordflow">return</span> fileLine;
<a name="l00666"></a>00666     }
<a name="l00667"></a>00667 
<a name="l00673"></a><a class="code" href="classNxsToken_a83d7b2a9a2307a0aee8476b904c8145f.html#a83d7b2a9a2307a0aee8476b904c8145f">00673</a> <span class="keyword">inline</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> <a class="code" href="classNxsToken_a83d7b2a9a2307a0aee8476b904c8145f.html#a83d7b2a9a2307a0aee8476b904c8145f" title="Returns the data member `token&amp;#39;.">NxsToken::GetToken</a>(
<a name="l00674"></a>00674   <span class="keywordtype">bool</span> respect_case)    <span class="comment">/* determines whether token is converted to upper case before being returned */</span>
<a name="l00675"></a>00675     {
<a name="l00676"></a>00676     <span class="keywordflow">if</span> (!respect_case)
<a name="l00677"></a>00677         <a class="code" href="classNxsToken_a19a122c7b27d6cda65034acee1d61d01.html#a19a122c7b27d6cda65034acee1d61d01" title="Converts all alphabetical characters in token to upper case.">ToUpper</a>();
<a name="l00678"></a>00678 
<a name="l00679"></a>00679     <span class="keywordflow">return</span> token;
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681 
<a name="l00687"></a><a class="code" href="classNxsToken_abb9c1599e43267a342fb72be7b878541.html#abb9c1599e43267a342fb72be7b878541">00687</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classNxsToken_abb9c1599e43267a342fb72be7b878541.html#abb9c1599e43267a342fb72be7b878541" title="Returns the data member `token&amp;#39; as a C-style string.">NxsToken::GetTokenAsCStr</a>(
<a name="l00688"></a>00688   <span class="keywordtype">bool</span> respect_case)    <span class="comment">/* determines whether token is converted to upper case before being returned */</span>
<a name="l00689"></a>00689     {
<a name="l00690"></a>00690     <span class="keywordflow">if</span> (!respect_case)
<a name="l00691"></a>00691         <a class="code" href="classNxsToken_a19a122c7b27d6cda65034acee1d61d01.html#a19a122c7b27d6cda65034acee1d61d01" title="Converts all alphabetical characters in token to upper case.">ToUpper</a>();
<a name="l00692"></a>00692 
<a name="l00693"></a>00693     <span class="keywordflow">return</span> token.c_str();
<a name="l00694"></a>00694     }
<a name="l00695"></a>00695 
<a name="l00699"></a><a class="code" href="classNxsToken_a8231aba780039e4ef1fe2fbf24e21dba.html#a8231aba780039e4ef1fe2fbf24e21dba">00699</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classNxsToken_a8231aba780039e4ef1fe2fbf24e21dba.html#a8231aba780039e4ef1fe2fbf24e21dba" title="Returns token.size().">NxsToken::GetTokenLength</a>()<span class="keyword"> const</span>
<a name="l00700"></a>00700 <span class="keyword">    </span>{
<a name="l00701"></a>00701     <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)token.size();
<a name="l00702"></a>00702     }
<a name="l00703"></a>00703 
<a name="l00707"></a><a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7">00707</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7" title="Returns true if current token is a single character and this character is either...">NxsToken::IsPlusMinusToken</a>()
<a name="l00708"></a>00708     {
<a name="l00709"></a>00709     <span class="keywordflow">return</span> <a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7" title="Returns true if current token is a single character and this character is either...">IsPlusMinusToken</a>(token);
<a name="l00710"></a>00710     }
<a name="l00711"></a>00711 
<a name="l00715"></a><a class="code" href="classNxsToken_a0ee2f8ce8f3bead4bafb3c2903e3f681.html#a0ee2f8ce8f3bead4bafb3c2903e3f681">00715</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_af75d27ce09e09c66c838ad61e13839f7.html#af75d27ce09e09c66c838ad61e13839f7" title="Returns true if current token is a single character and this character is either...">NxsToken::IsPlusMinusToken</a>(<span class="keyword">const</span> std::string &amp;t)
<a name="l00716"></a>00716     {
<a name="l00717"></a>00717     <span class="keywordflow">return</span> (t.size() == 1 &amp;&amp; ( t[0] == <span class="charliteral">&#39;+&#39;</span> || t[0] == <span class="charliteral">&#39;-&#39;</span>) );
<a name="l00718"></a>00718     }
<a name="l00719"></a>00719 
<a name="l00724"></a><a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51">00724</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51" title="Returns true if current token is a single character and this character is a punctuation...">NxsToken::IsPunctuationToken</a>()
<a name="l00725"></a>00725     {
<a name="l00726"></a>00726     <span class="keywordflow">return</span> <a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51" title="Returns true if current token is a single character and this character is a punctuation...">IsPunctuationToken</a>(token);
<a name="l00727"></a>00727     }
<a name="l00728"></a>00728 
<a name="l00733"></a><a class="code" href="classNxsToken_aeaa7f64a34a244ddf02d9db522e68657.html#aeaa7f64a34a244ddf02d9db522e68657">00733</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a0e5bcf6a302bf475420b28036a218b51.html#a0e5bcf6a302bf475420b28036a218b51" title="Returns true if current token is a single character and this character is a punctuation...">NxsToken::IsPunctuationToken</a>(<span class="keyword">const</span> std::string &amp;t)
<a name="l00734"></a>00734     {
<a name="l00735"></a>00735     <span class="keywordflow">return</span> (t.size() == 1 &amp;&amp; <a class="code" href="classNxsToken_ace5934a87892ba50ebea2c1b93866dc3.html#ace5934a87892ba50ebea2c1b93866dc3" title="Returns true if character supplied is considered a punctuation character.">IsPunctuation</a>(t[0]));
<a name="l00736"></a>00736     }
<a name="l00737"></a>00737 
<a name="l00738"></a>00738 
<a name="l00743"></a><a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641">00743</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641" title="Returns true if current token is a single character and this character is a whitespace...">NxsToken::IsWhitespaceToken</a>()
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745     <span class="keywordflow">return</span> <a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641" title="Returns true if current token is a single character and this character is a whitespace...">IsWhitespaceToken</a>(token);
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 
<a name="l00751"></a><a class="code" href="classNxsToken_ac27691a48eb3f463f83998130cbcc4a8.html#ac27691a48eb3f463f83998130cbcc4a8">00751</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_ada43d5e71e16665d7f20874bd6fb6641.html#ada43d5e71e16665d7f20874bd6fb6641" title="Returns true if current token is a single character and this character is a whitespace...">NxsToken::IsWhitespaceToken</a>(<span class="keyword">const</span> std::string &amp;t)
<a name="l00752"></a>00752     {
<a name="l00753"></a>00753     <span class="keywordflow">return</span> (t.size() == 1 &amp;&amp; <a class="code" href="classNxsToken_a4362f9387840f57ebde0f7aa5bf6d4c8.html#a4362f9387840f57ebde0f7aa5bf6d4c8" title="Returns true if character supplied is considered a whitespace character.">IsWhitespace</a>( t[0]));
<a name="l00754"></a>00754     }
<a name="l00755"></a>00755 
<a name="l00759"></a><a class="code" href="classNxsToken_ac77db1862982198172efd9bc908d8e38.html#ac77db1862982198172efd9bc908d8e38">00759</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_ac77db1862982198172efd9bc908d8e38.html#ac77db1862982198172efd9bc908d8e38" title="Replaces current token NxsString with s.">NxsToken::ReplaceToken</a>(
<a name="l00760"></a>00760   <span class="keyword">const</span> <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s)    <span class="comment">/* NxsString to replace current token NxsString */</span>
<a name="l00761"></a>00761     {
<a name="l00762"></a>00762     token = s;
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764 
<a name="l00768"></a><a class="code" href="classNxsToken_afd330ed87b253864f10dd8c4282d824d.html#afd330ed87b253864f10dd8c4282d824d">00768</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_afd330ed87b253864f10dd8c4282d824d.html#afd330ed87b253864f10dd8c4282d824d" title="Sets token to the empty NxsString (&amp;quot;&amp;quot;).">NxsToken::ResetToken</a>()
<a name="l00769"></a>00769     {
<a name="l00770"></a>00770     token.<a class="code" href="classNxsString_abbf904c772d9776139dcae602c9fd06b.html#abbf904c772d9776139dcae602c9fd06b" title="Most containers in the standard template library can be completely erased using the...">clear</a>();
<a name="l00771"></a>00771     embeddedComments.clear();
<a name="l00772"></a>00772     }
<a name="l00773"></a>00773 
<a name="l00779"></a><a class="code" href="classNxsToken_ad6e4423d22411f5779f2043f22008256.html#ad6e4423d22411f5779f2043f22008256">00779</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_ad6e4423d22411f5779f2043f22008256.html#ad6e4423d22411f5779f2043f22008256" title="Sets the special punctuation character to `c&amp;#39;.">NxsToken::SetSpecialPunctuationCharacter</a>(
<a name="l00780"></a>00780   <span class="keywordtype">char</span> c)   <span class="comment">/* the character to which `special&#39; is set */</span>
<a name="l00781"></a>00781     {
<a name="l00782"></a>00782     special = c;
<a name="l00783"></a>00783     }
<a name="l00784"></a>00784 
<a name="l00789"></a><a class="code" href="classNxsToken_afa5232738ca19e069173e8befe75e730.html#afa5232738ca19e069173e8befe75e730">00789</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_afa5232738ca19e069173e8befe75e730.html#afa5232738ca19e069173e8befe75e730" title="Sets the bit specified in the variable `labileFlags&amp;#39;.">NxsToken::SetLabileFlagBit</a>(
<a name="l00790"></a>00790   <span class="keywordtype">int</span> bit)  <span class="comment">/* the bit (see NxsTokenFlags enum) to set in `labileFlags&#39; */</span>
<a name="l00791"></a>00791     {
<a name="l00792"></a>00792     labileFlags |= bit;
<a name="l00793"></a>00793     }
<a name="l00794"></a>00794 
<a name="l00807"></a><a class="code" href="classNxsToken_a866fd0156710932ff8cc9aeeccde3fa6.html#a866fd0156710932ff8cc9aeeccde3fa6">00807</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a866fd0156710932ff8cc9aeeccde3fa6.html#a866fd0156710932ff8cc9aeeccde3fa6" title="Checks character stored in the variable saved to see if it matches supplied character...">NxsToken::StoppedOn</a>(
<a name="l00808"></a>00808   <span class="keywordtype">char</span> ch)  <span class="comment">/* the character to compare with saved character */</span>
<a name="l00809"></a>00809     {
<a name="l00810"></a>00810     <span class="keywordflow">if</span> (saved == ch)
<a name="l00811"></a>00811         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00812"></a>00812     <span class="keywordflow">else</span>
<a name="l00813"></a>00813         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00814"></a>00814     }
<a name="l00815"></a>00815 <span class="keyword">inline</span> <span class="keywordtype">char</span> NxsToken::PeekAtNextChar()<span class="keyword"> const</span>
<a name="l00816"></a>00816 <span class="keyword">    </span>{
<a name="l00817"></a>00817     <span class="keywordflow">return</span> nextCharInStream;
<a name="l00818"></a>00818     }
<a name="l00823"></a><a class="code" href="classNxsToken_a49faaacf5a07ec8d25323025b927ea08.html#a49faaacf5a07ec8d25323025b927ea08">00823</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_a49faaacf5a07ec8d25323025b927ea08.html#a49faaacf5a07ec8d25323025b927ea08" title="Simply outputs the current NxsString stored in `token&amp;#39; to the output stream `out&amp;#39;...">NxsToken::Write</a>(
<a name="l00824"></a>00824   std::ostream &amp;out)    <span class="comment">/* the output stream to which to write token NxsString */</span>
<a name="l00825"></a>00825     {
<a name="l00826"></a>00826     out &lt;&lt; token;
<a name="l00827"></a>00827     }
<a name="l00828"></a>00828 
<a name="l00833"></a><a class="code" href="classNxsToken_a00e1aed7c327e154092c5bf589af0715.html#a00e1aed7c327e154092c5bf589af0715">00833</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classNxsToken_a00e1aed7c327e154092c5bf589af0715.html#a00e1aed7c327e154092c5bf589af0715" title="Simply outputs the current NxsString stored in `token&amp;#39; to the output stream `out&amp;#39;...">NxsToken::Writeln</a>(
<a name="l00834"></a>00834   std::ostream &amp;out)    <span class="comment">/* the output stream to which to write `token&#39; */</span>
<a name="l00835"></a>00835     {
<a name="l00836"></a>00836     out &lt;&lt; token &lt;&lt; std::endl;
<a name="l00837"></a>00837     }
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 <span class="keyword">inline</span> std::map&lt;std::string, std::string&gt; NxsToken::ProcessAsSimpleKeyValuePairs(<span class="keyword">const</span> <span class="keywordtype">char</span> *cmdName)
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841     ProcessedNxsCommand tokenVec;
<a name="l00842"></a>00842     <a class="code" href="classNxsToken_af339d0b55c743a874f781e0fe2e3c6c0.html#af339d0b55c743a874f781e0fe2e3c6c0" title="Reads until &amp;quot;;&amp;quot; and fills the vector of ProcessedNxsToken objects.">ProcessAsCommand</a>(&amp;tokenVec);
<a name="l00843"></a>00843     <span class="keywordflow">return</span> ParseAsSimpleKeyValuePairs(tokenVec, cmdName);
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845 
<a name="l00850"></a><a class="code" href="classNxsToken_a3fd38838e685bffa670dbbaa5b047966.html#a3fd38838e685bffa670dbbaa5b047966">00850</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classNxsToken_a3fd38838e685bffa670dbbaa5b047966.html#a3fd38838e685bffa670dbbaa5b047966" title="Returns true if token NxsString exactly equals `s&amp;#39;.">NxsToken::Equals</a>(
<a name="l00851"></a>00851   <a class="code" href="classNxsString.html" title="A string class for use with the Nexus Class Library.">NxsString</a> s, <span class="comment">/* the string for comparison to the string currently stored in this token */</span>
<a name="l00852"></a>00852   <span class="keywordtype">bool</span> respect_case) <span class="keyword">const</span>  <span class="comment">/* if true, comparison will be case-sensitive */</span>
<a name="l00853"></a>00853     {
<a name="l00854"></a>00854     <span class="keywordflow">if</span> (respect_case)
<a name="l00855"></a>00855         <span class="keywordflow">return</span> (strcmp(token.c_str(), s.c_str()) == 0);
<a name="l00856"></a>00856     <span class="keywordflow">return</span> NxsString::case_insensitive_equals(token.c_str(), s.c_str());
<a name="l00857"></a>00857     }
<a name="l00858"></a>00858 
<a name="l00859"></a>00859 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 29 16:37:11 2010 for NCL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
