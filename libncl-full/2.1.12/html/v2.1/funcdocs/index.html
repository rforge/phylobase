<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NCL: NCL v2.1 Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="ncl.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NCL v2.1 Documentation </h1><h3 class="version">2.1 </h3><h2><a class="anchor" id="TOC">
Table of contents</a></h2>
<ul>
<li><a class="el" href="index.html#introduction">What is the NCL?</a></li>
<li><a class="el" href="index.html#v2_0_to_2_1">Versions of the library.</a><ul>
<li><a class="el" href="index.html#backward">Backward compatibility</a></li>
<li><a class="el" href="index.html#whyDiff">Why is version 2.1 so different from version 2.0?</a></li>
<li><a class="el" href="index.html#v2_2">Version 2.2</a></li>
</ul>
</li>
<li><a class="el" href="index.html#download">Obtaining the NCL?</a><ul>
<li><a class="el" href="index.html#portability">Portability</a></li>
<li><a class="el" href="index.html#crossplatform">Cross-platform features</a></li>
</ul>
</li>
<li><a class="el" href="index.html#NexusCoverage">What parts of NEXUS are supported by NCL ?</a></li>
<li><a class="el" href="basicAPI.html">The Basics of the NCL API</a></li>
<li><a class="el" href="basicAPI.html#simpleparse">Simplest example of reading</a></li>
<li><a class="el" href="basicAPI.html#nonNexus">Reading non-NEXUS file formats</a></li>
<li><a class="el" href="simpleextract.html">Getting information out of NCL</a><ul>
<li><a class="el" href="simpleextract.html#accessblocks">Getting NxsBlock Reader instances from the reader.</a></li>
<li><a class="el" href="simpleextract.html#queryblocks">Getting information out of the NxsBlock objects</a><ul>
<li><a class="el" href="simpleextract.html#NxsTaxaBlockQueries">Getting information out of a NxsTaxaBlock</a></li>
<li><a class="el" href="simpleextract.html#NxsCharactersBlockQueries">Getting information out of a NxsCharactersBlock</a></li>
<li><a class="el" href="simpleextract.html#NxsTreesBlockQueries">Getting information out of a NxsTreesBlock</a></li>
<li><a class="el" href="simpleextract.html#NxsAssumptionsBlockQueries">Getting information out of a NxsAssumptionsBlockBlock</a></li>
<li><a class="el" href="simpleextract.html#NxsUnalignedBlockQueries">Getting information out of a NxsUnalignedBlock</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="LessStrict.html">Making NCL less strict</a></li>
<li><a class="el" href="Gotchas.html">Quirks and Gotchas</a><ul>
<li><a class="el" href="Gotchas.html#MisleadingNames">Potentially Confusing Names.</a></li>
<li><a class="el" href="Gotchas.html#BlockTypeIDDiscussion">Block Type IDs or Block IDs</a></li>
<li><a class="el" href="Gotchas.html#impliedBlocks">"Implied" blocks</a></li>
<li><a class="el" href="Gotchas.html#taxaBlockScoping">"Scoping" of TAXA blocks</a></li>
<li><a class="el" href="Gotchas.html#memoryManagement">Managing Memory</a></li>
<li><a class="el" href="Gotchas.html#setsAssumptions">NxsAssumptionsBlock reads several types of blocks</a></li>
</ul>
</li>
<li><a class="el" href="FAQ.html">NCL FAQ</a></li>
</ul>
<h2><a class="anchor" id="introduction">
What is the NCL?</a></h2>
<p>The NEXUS Class Library (NCL) is an integrated collection of C++ classes that parses several file formats used in evolutionary biology (NEXUS, PHYLIP, relaxed PHYLIP, and FASTA). NCL does not diagnose the file format, but if you configure a parser to read several formats, then you will be able to parse multiple formats and extract the data from NCL's data structures using the same API regardless of the file format.</p>
<p>This documentation is written for C++ programmers.</p>
<p>Version 2.0 of NCL itself was published as:</p>
<p>Lewis, P. O. 2003. NCL: a C++ class library for interpreting data files in NEXUS format. <em>Bioinformatics</em> <b>19</b> (17): 2330-2331. <a href="http://bioinformatics.oxfordjournals.org/cgi/content/abstract/19/17/2330?ijkey=80ZQtEjeuXmEU&amp;keytype=ref">[link to online resource]</a></p>
<p>See <a href="http://hydrodictyon.eeb.uconn.edu/ncl/">http://hydrodictyon.eeb.uconn.edu/ncl</a> for documentation on version 2.0.</p>
<p>The NEXUS data file format was specified in the publication cited below (<a href="http://sysbio.oxfordjournals.org/cgi/reprint/46/4/590.pdf">this is a link to pdf of that paper</a>). Please read this paper for further information about the format specification itself; the documentation for the NCL does not attempt to explain the structure of a NEXUS data file.</p>
<p>Maddison, D. R., D. L. Swofford, and Wayne P. Maddison. 1997. NEXUS: an extensible file format for systematic information. <em>Systematic Biology</em> 46(4): 590-621.</p>
<h2><a class="anchor" id="v2_0_to_2_1">
Versions of the library.</a></h2>
<h3><a class="anchor" id="backward">
Backward compatibility</a></h3>
<p>Despite several fundamental changes in the implementation of the library, we strive to keep NCL v2.1 backward compatible with version 2.0. A programmer that relied on version 2.0 should still work. If you discover that your client code works with version 2.0 of NCL, but not 2.1 please let us know.</p>
<h3><a class="anchor" id="whyDiff">
Why is version 2.1 so different from version 2.0?</a></h3>
<p>Version 2.1 extends the functionality significantly by allowing NCL to parse files that use extended forms of NEXUS. Both Mesquite and MrBayes rely on extensions to NEXUS. Particularly difficult to handle are Mesquite's support for multiple blocks of the same type within a file (accompanied by linking blocks by title).</p>
<p>Version 2.0 of NCL followed a model of creating a <a class="el" href="classNxsReader.html" title="This is the class that orchestrates the reading of a NEXUS data file, and so is the...">NxsReader</a> object and adding <a class="el" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> objects which handle parsing of particular types of NEXUS content. Client code would typically inherit from base classes such as <a class="el" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a>, or would extract the information when a block was completely read. The <a class="el" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> instance would be reset (by <a class="el" href="classNxsBlock_a3642d732dd82298ef2f35a7b83b97719.html#a3642d732dd82298ef2f35a7b83b97719" title="This virtual function should be overridden for each derived class to completely reset...">NxsBlock::Reset</a> call) before it was asked to handle another block.</p>
<p>Unfortunately, not all NEXUS blocks are autonomous (for example commands in an ASSUMPTIONS block may rely on information in a CHARACTERS block). Combining inter-block dependencies with the need to store information from multiple blocks of the same type means that NCL's version 2.0 API can be quite cumbersome. To read a file with a single instance of a <a class="el" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a>, the client code must carefully offload all of the information in a block before allowing parsing to proceed to the next block. Subsequent references between blocks have to be corrected so that blocks refer to the new location of the information (rather than the <a class="el" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> instance that originally held the data).</p>
<p>A more natural design pattern for processing files which may have multiple blocks of the same type is to use a factory method. Users of NCL v2.1 can register <a class="el" href="classNxsBlockFactory.html" title="This abstract class defines the interface for a factory that can generate NxsBlocks...">NxsBlockFactory</a> instances with a <a class="el" href="classNxsReader.html" title="This is the class that orchestrates the reading of a NEXUS data file, and so is the...">NxsReader</a>. Then the reader can parse an entire file before having to pull the parsed information from the blocks.</p>
<h3><a class="anchor" id="v2_2">
Version 2.2</a></h3>
<p>The svn branch for version 2.2 is very similar to 2.1. It only contains changes necessary to allow NCL to be callable from other languages via <a href="http://www.swig.org/">SWIG</a>. Some of the changes needed to ensure this were not backward-compatible. So they were added to branch 2.2.</p>
<p>C++ programmers should probably use 2.1 (although their code will almost certainly work on v2.2 as well)</p>
<h2><a class="anchor" id="download">
Obtaining the NCL?</a></h2>
<p>The best link to use to get the latest (stable) version of NCL is from the <a href="http://sourceforge.net/projects/ncl/">sourceforge NCL project page.</a></p>
<p>If you want SVN access to the latest code, please use branches/v2.1 from the SVN checkout on Sourceforge.</p>
<h3><a class="anchor" id="portability">
Portability</a></h3>
<p>The NCL has been designed to be as portable as possible for a C++ class library. Please let us know if you find a (reasonably modern) compiler that does not accept NCL.</p>
<h3><a class="anchor" id="crossplatform">
Cross-platform features</a></h3>
<p>NCL does not rely on any external libraries. There are hooks (such as <a class="el" href="classNxsToken_a8bcc10cb8b852257dc0449491e74cbff.html#a8bcc10cb8b852257dc0449491e74cbff">NxsToken::OutputComment</a>) that allow client code to intercept messages that you may want to display as standard output (in commandline executables) or a graphical window (in GUIs).</p>
<h2><a class="anchor" id="NexusCoverage">
What parts of NEXUS are supported by NCL ?</a></h2>
<p>NCL can interpret the following Blocks and commands.</p>
<p>Note that TITLE, BLOCKID are handle by all block types. LINK commands are handled where appropriate.</p>
<table class="doxtable">
<tr>
<td>Block Type ID </td><td>Commands</td><td>NCL Block Reader type </td></tr>
<tr>
<td>ASSUMPTIONS </td><td>CharPartition, CharSet, CodeSet, CodonPosSet, Options, TaxSet, TaxPartition, TreeSet, TreePartition, TypeSet, UserType, WtSet</td><td><a class="el" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> </td></tr>
<tr>
<td>CHARACTERS </td><td>Dimensions, Format, TaxLabels, CharStateLabels, CharLabels, StateLabels, Matrix</td><td><a class="el" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> </td></tr>
<tr>
<td>CODONS </td><td>(same as ASSUMPTIONS)</td><td><a class="el" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> </td></tr>
<tr>
<td>DATA </td><td>(same as CHARACTERS)</td><td><a class="el" href="classNxsCharactersBlock.html" title="This class handles reading and storage for the NEXUS block CHARACTERS.">NxsCharactersBlock</a> </td></tr>
<tr>
<td>DISTANCES </td><td>Dimensions, Format, TaxLabels, Matrix</td><td><a class="el" href="classNxsDistancesBlock.html" title="This class handles reading and storage for the NEXUS block DISTANCES.">NxsDistancesBlock</a> </td></tr>
<tr>
<td>SETS </td><td>(same as ASSUMPTIONS)</td><td><a class="el" href="classNxsAssumptionsBlock.html" title="This class handles reading and storage for the NxsReader block ASSUMPTIONS.">NxsAssumptionsBlock</a> </td></tr>
<tr>
<td>TAXA </td><td>Dimensions, TaxLabels</td><td><a class="el" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> </td></tr>
<tr>
<td>TREES </td><td>Translate, Trees</td><td><a class="el" href="classNxsTreesBlock.html" title="This class handles reading and storage for the NEXUS block TREES.">NxsTreesBlock</a> </td></tr>
<tr>
<td>UNALIGNED </td><td>Dimensions, Format, TaxLabels, Matrix</td><td><a class="el" href="classNxsUnalignedBlock.html" title="This class handles reading and storage for the NEXUS block UNALIGNED.">NxsUnalignedBlock</a> </td></tr>
</table>
<hr/>
 Next see <a class="el" href="basicAPI.html">The Basics of the NCL API</a> for discussion of how to get started using NCL.</p>
<hr/>
 Brief Directory:<br/>
</p>
<ul>
<li><a class="el" href="index.html#introduction">What is the NCL?</a></li>
<li><a class="el" href="basicAPI.html">The Basics of the NCL API</a></li>
<li><a class="el" href="simpleextract.html">Getting information out of NCL</a></li>
<li><a class="el" href="LessStrict.html">Making NCL less strict</a></li>
<li><a class="el" href="Gotchas.html">Quirks and Gotchas</a></li>
<li><a class="el" href="FAQ.html">NCL FAQ</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 29 16:37:10 2010 for NCL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
