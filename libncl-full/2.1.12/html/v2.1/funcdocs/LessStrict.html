<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NCL: Making NCL less strict</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="ncl.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="LessStrict">Making NCL less strict </a></h1><p>The NEXUS standard is very specific about some requirements of input file.</p>
<p>In many cases these requirements are necessary for the semantics to be clear, but in some cases an invalid file is not ambiguous. By default NCL is pretty strict about the rules, but this can be frustrating for users who are constantly having their files rejected (fortunately, NCL's error messages are usually helpful; see <a class="el" href="FAQ.html#rockinErrorMessages">Why are the error messages that NCL generates because of invalid files so crystal-clear and helpful?</a>).</p>
<p>There are several ways to make the NexusReader more forgiving than it normally is. Some of these methods involve calling functions (mentioned below) that are in methods of some <a class="el" href="classNxsBlock.html" title="This is the base class from which all block classes are derived.">NxsBlock</a> subclass. To make your <a class="el" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a> instance use blocks that have been modified you will have to get the template for each type of block (see <a class="el" href="classPublicNexusReader_ab4f3cd4c449247ac07200b4b0c17a27a.html#ab4f3cd4c449247ac07200b4b0c17a27a">PublicNexusReader::GetTreesBlockTemplate()</a> for example).</p>
<ul>
<li>It is very common to encounter a file without a TREES block but no TAXA block. If you call NxsTreesBlock::SetAllowImplicitNames(true) on the <a class="el" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> template instance, then any NxsTreeBlocks cloned from this instance will generate an "implied" Taxa block when they are read (if there is no taxa block in memory). See <a class="el" href="Gotchas.html#impliedBlocks">"Implied" blocks</a> and <a class="el" href="Gotchas.html#taxaBlockScoping">"Scoping" of TAXA blocks</a>.</li>
<li>The use of NxsReader::cullIdenticalTaxaBlocks(true) can help avoid redundant <a class="el" href="classNxsTaxaBlock.html" title="The default implementation of the NxsTaxaBlockAPI that is used to parse TAXA blocks...">NxsTaxaBlock</a> instances. See <a class="el" href="Gotchas.html#taxaBlockScoping">"Scoping" of TAXA blocks</a></li>
<li>If you are going to reuse a <a class="el" href="classNxsReader.html" title="This is the class that orchestrates the reading of a NEXUS data file, and so is the...">NxsReader</a>, you may want to call <a class="el" href="classNxsReader_a9b4a4e2805479cbd6ce909fa63911fee.html#a9b4a4e2805479cbd6ce909fa63911fee" title="Lowers the priority of all read blocks to `priorityLevel`.">NxsReader::DemoteBlocks()</a> before each execution/reading of a file. This will give the blocks from previous files lower priority (see <a class="el" href="Gotchas.html#taxaBlockScoping">"Scoping" of TAXA blocks</a>).</li>
<li><a class="el" href="classNxsCharactersBlock_a03323afe931168034735ad2be8a4ed8c.html#a03323afe931168034735ad2be8a4ed8c" title="Instructs the NxsCharactersBlock to accept extra symbols even if the datatype is...">NxsCharactersBlock::SetAllowAugmentingOfSequenceSymbols()</a> with the argmunte true will cause NCL to accept characters matrices with symbols added on to the standard symbols. See <a class="el" href="classNxsCharactersBlock_a786e8f176921b556115b11f9a9801653.html#a786e8f176921b556115b11f9a9801653" title="Instructs the NxsCharactersBlock to convert sequence data character blocks that have...">NxsCharactersBlock::SetConvertAugmentedToMixed()</a> for a discussion of how such character blocks are dealt with after the parse.</li>
<li>Any reader derived from <a class="el" href="classPublicNexusReader.html" title="A NxsReader that uses clone factories to read public blocks.">PublicNexusReader</a> will raise an <a class="el" href="classNxsException.html" title="Exception class that conveys a message specific to the problem encountered.">NxsException</a> when the parser encounters syntax that causes a warning that is given a level of PROBABLY_INCORRECT_CONTENT_WARNING or higher. You can make NCL issue warnings instead of errors by calling reader-&gt;SetWarningToErrorThreshold(NxsReader::FATAL_WARNING). Or you can make the parser generate NxsExceptions for milder warnings if you pass in an argument associated with a less severe warning (see the <a class="el" href="classNxsReader_a409e01dc0baecef7ed471879c0692978.html#a409e01dc0baecef7ed471879c0692978">NxsReader::NxsWarnLevel</a></li>
<li>MrBayes introduced the <code>datatype=MIXED</code> syntax to the Format command of the CHARACTERS block. This is more explicit than the older NEXUS style of simply augmenting the symbols list (without saying which datatype corresponds to which column). Use NxsCharactersBlock::SetSupportMixedDatatype(true) to enable this features.</li>
</ul>
<p>If you also call NxsCharactersBlock::SetConvertAugmentedToMixed(true), the NCL will attempt to separate a sequence datatype with augmented symbols list into a mixed type that has the same sequence type but also has a set of characters that are datatype <code>standard</code>. See <a class="el" href="Gotchas.html#mixedDatatypes">Dealing with Datatype=Mixed</a> discussion. enum)</p>
<hr/>
 Next see <a class="el" href="Gotchas.html">Quirks and Gotchas</a> for info on common stumbling blocks</p>
<hr/>
 Brief Directory:<br/>
</p>
<ul>
<li><a class="el" href="index.html#introduction">What is the NCL?</a></li>
<li><a class="el" href="basicAPI.html">The Basics of the NCL API</a></li>
<li><a class="el" href="simpleextract.html">Getting information out of NCL</a></li>
<li><a class="el" href="LessStrict.html">Making NCL less strict</a></li>
<li><a class="el" href="Gotchas.html">Quirks and Gotchas</a></li>
<li><a class="el" href="FAQ.html">NCL FAQ</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 29 16:37:12 2010 for NCL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
